{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/Cred%20Vault/Sunny/packages/shared-types/dist/index.mjs"],"sourcesContent":["// src/auth.ts\nimport { z } from \"zod\";\nvar UserAccountType = /* @__PURE__ */ ((UserAccountType2) => {\n  UserAccountType2[\"INDIVIDUAL\"] = \"individual\";\n  UserAccountType2[\"BUSINESS\"] = \"business\";\n  UserAccountType2[\"INSTITUTION\"] = \"institution\";\n  UserAccountType2[\"DEVELOPER\"] = \"developer\";\n  UserAccountType2[\"ADMIN\"] = \"admin\";\n  return UserAccountType2;\n})(UserAccountType || {});\nvar AuthProvider = /* @__PURE__ */ ((AuthProvider2) => {\n  AuthProvider2[\"EMAIL\"] = \"email\";\n  AuthProvider2[\"GOOGLE\"] = \"google\";\n  AuthProvider2[\"APPLE\"] = \"apple\";\n  AuthProvider2[\"MICROSOFT\"] = \"microsoft\";\n  AuthProvider2[\"GITHUB\"] = \"github\";\n  AuthProvider2[\"LINKEDIN\"] = \"linkedin\";\n  return AuthProvider2;\n})(AuthProvider || {});\nvar MFAType = /* @__PURE__ */ ((MFAType2) => {\n  MFAType2[\"SMS\"] = \"sms\";\n  MFAType2[\"EMAIL\"] = \"email\";\n  MFAType2[\"TOTP\"] = \"totp\";\n  MFAType2[\"BIOMETRIC\"] = \"biometric\";\n  MFAType2[\"HARDWARE_TOKEN\"] = \"hardware_token\";\n  return MFAType2;\n})(MFAType || {});\nvar VerificationStatus = /* @__PURE__ */ ((VerificationStatus2) => {\n  VerificationStatus2[\"PENDING\"] = \"pending\";\n  VerificationStatus2[\"VERIFIED\"] = \"verified\";\n  VerificationStatus2[\"REJECTED\"] = \"rejected\";\n  VerificationStatus2[\"EXPIRED\"] = \"expired\";\n  return VerificationStatus2;\n})(VerificationStatus || {});\nvar InstitutionType = /* @__PURE__ */ ((InstitutionType2) => {\n  InstitutionType2[\"BANK\"] = \"bank\";\n  InstitutionType2[\"CREDIT_UNION\"] = \"credit_union\";\n  InstitutionType2[\"FINTECH\"] = \"fintech\";\n  InstitutionType2[\"PAYMENT_PROCESSOR\"] = \"payment_processor\";\n  InstitutionType2[\"REMITTANCE_SERVICE\"] = \"remittance_service\";\n  InstitutionType2[\"SACCO\"] = \"sacco\";\n  InstitutionType2[\"MICROFINANCE\"] = \"microfinance\";\n  return InstitutionType2;\n})(InstitutionType || {});\nvar BusinessType = /* @__PURE__ */ ((BusinessType2) => {\n  BusinessType2[\"SOLE_PROPRIETORSHIP\"] = \"sole_proprietorship\";\n  BusinessType2[\"PARTNERSHIP\"] = \"partnership\";\n  BusinessType2[\"CORPORATION\"] = \"corporation\";\n  BusinessType2[\"LLC\"] = \"llc\";\n  BusinessType2[\"NON_PROFIT\"] = \"non_profit\";\n  BusinessType2[\"STARTUP\"] = \"startup\";\n  BusinessType2[\"ENTERPRISE\"] = \"enterprise\";\n  return BusinessType2;\n})(BusinessType || {});\nvar BaseUserSchema = z.object({\n  id: z.string().uuid(),\n  email: z.string().email(),\n  emailVerified: z.boolean().default(false),\n  phone: z.string().optional(),\n  phoneVerified: z.boolean().default(false),\n  accountType: z.nativeEnum(UserAccountType),\n  firstName: z.string().min(1),\n  lastName: z.string().min(1),\n  avatar: z.string().url().optional(),\n  timezone: z.string().default(\"UTC\"),\n  locale: z.string().default(\"en\"),\n  currency: z.string().length(3).default(\"USD\"),\n  mfaEnabled: z.boolean().default(false),\n  mfaMethods: z.array(z.nativeEnum(MFAType)).default([]),\n  lastLoginAt: z.date().optional(),\n  createdAt: z.date(),\n  updatedAt: z.date()\n});\nvar IndividualUserSchema = BaseUserSchema.extend({\n  accountType: z.literal(\"individual\" /* INDIVIDUAL */),\n  dateOfBirth: z.date().optional(),\n  nationality: z.string().optional(),\n  occupation: z.string().optional(),\n  kycStatus: z.nativeEnum(VerificationStatus).default(\"pending\" /* PENDING */)\n});\nvar BusinessUserSchema = BaseUserSchema.extend({\n  accountType: z.literal(\"business\" /* BUSINESS */),\n  businessName: z.string().min(1),\n  businessType: z.nativeEnum(BusinessType),\n  businessRegistrationNumber: z.string().optional(),\n  taxId: z.string().optional(),\n  website: z.string().url().optional(),\n  businessVerificationStatus: z.nativeEnum(VerificationStatus).default(\"pending\" /* PENDING */),\n  monthlyVolume: z.number().optional(),\n  industry: z.string().optional()\n});\nvar InstitutionUserSchema = BaseUserSchema.extend({\n  accountType: z.literal(\"institution\" /* INSTITUTION */),\n  institutionName: z.string().min(1),\n  institutionType: z.nativeEnum(InstitutionType),\n  regulatoryLicense: z.string().optional(),\n  swiftCode: z.string().optional(),\n  institutionVerificationStatus: z.nativeEnum(VerificationStatus).default(\"pending\" /* PENDING */),\n  complianceOfficer: z.object({\n    name: z.string(),\n    email: z.string().email(),\n    phone: z.string()\n  }).optional()\n});\nvar DeveloperUserSchema = BaseUserSchema.extend({\n  accountType: z.literal(\"developer\" /* DEVELOPER */),\n  githubUsername: z.string().optional(),\n  company: z.string().optional(),\n  yearsExperience: z.number().min(0).max(50).optional(),\n  preferredLanguages: z.array(z.string()).default([]),\n  apiKeyTier: z.enum([\"sandbox\", \"development\", \"production\"]).default(\"sandbox\")\n});\nvar AdminUserSchema = BaseUserSchema.extend({\n  accountType: z.literal(\"admin\" /* ADMIN */),\n  permissions: z.array(z.string()).default([]),\n  department: z.string().optional(),\n  level: z.enum([\"admin\", \"super_admin\", \"system_admin\"]).default(\"admin\")\n});\nvar SignInSchema = z.object({\n  email: z.string().email(),\n  password: z.string().min(8),\n  accountType: z.nativeEnum(UserAccountType).optional(),\n  // For routing\n  rememberMe: z.boolean().optional().default(false),\n  mfaCode: z.string().optional()\n});\nvar SignUpSchema = z.object({\n  email: z.string().email(),\n  password: z.string().min(8).regex(\n    /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]/,\n    \"Password must contain at least one lowercase letter, one uppercase letter, one number, and one special character\"\n  ),\n  confirmPassword: z.string(),\n  firstName: z.string().min(1),\n  lastName: z.string().min(1),\n  phone: z.string().optional(),\n  accountType: z.nativeEnum(UserAccountType),\n  agreeToTerms: z.boolean().refine((val) => val === true, \"You must agree to the terms and conditions\"),\n  agreeToPrivacy: z.boolean().refine((val) => val === true, \"You must agree to the privacy policy\"),\n  marketingConsent: z.boolean().default(false),\n  // Conditional fields based on account type\n  businessName: z.string().optional(),\n  businessType: z.nativeEnum(BusinessType).optional(),\n  institutionName: z.string().optional(),\n  institutionType: z.nativeEnum(InstitutionType).optional(),\n  company: z.string().optional(),\n  // For developers\n  referralCode: z.string().optional()\n}).refine((data) => data.password === data.confirmPassword, {\n  message: \"Passwords don't match\",\n  path: [\"confirmPassword\"]\n});\nvar SocialAuthSchema = z.object({\n  provider: z.nativeEnum(AuthProvider),\n  providerUserId: z.string(),\n  accessToken: z.string(),\n  refreshToken: z.string().optional(),\n  accountType: z.nativeEnum(UserAccountType).optional()\n});\nvar PasswordResetSchema = z.object({\n  email: z.string().email()\n});\nvar PasswordResetConfirmSchema = z.object({\n  token: z.string(),\n  password: z.string().min(8),\n  confirmPassword: z.string()\n}).refine((data) => data.password === data.confirmPassword, {\n  message: \"Passwords don't match\",\n  path: [\"confirmPassword\"]\n});\nvar MFASetupSchema = z.object({\n  method: z.nativeEnum(MFAType),\n  phoneNumber: z.string().optional(),\n  // For SMS\n  backupCodes: z.array(z.string()).optional()\n});\nvar SessionSchema = z.object({\n  id: z.string(),\n  userId: z.string().uuid(),\n  user: BaseUserSchema,\n  accessToken: z.string(),\n  refreshToken: z.string(),\n  expiresAt: z.date(),\n  device: z.object({\n    userAgent: z.string(),\n    ip: z.string(),\n    location: z.string().optional()\n  })\n});\nvar ACCOUNT_TYPE_DESTINATIONS = {\n  [\"individual\" /* INDIVIDUAL */]: \"https://app.sunnypayments.com\",\n  [\"business\" /* BUSINESS */]: \"https://business.sunnypayments.com\",\n  [\"institution\" /* INSTITUTION */]: \"https://institutions.sunnypayments.com\",\n  [\"developer\" /* DEVELOPER */]: \"https://developers.sunnypayments.com\",\n  [\"admin\" /* ADMIN */]: \"https://admin.sunnypayments.com\"\n};\nexport {\n  ACCOUNT_TYPE_DESTINATIONS,\n  AdminUserSchema,\n  AuthProvider,\n  BaseUserSchema,\n  BusinessType,\n  BusinessUserSchema,\n  DeveloperUserSchema,\n  IndividualUserSchema,\n  InstitutionType,\n  InstitutionUserSchema,\n  MFASetupSchema,\n  MFAType,\n  PasswordResetConfirmSchema,\n  PasswordResetSchema,\n  SessionSchema,\n  SignInSchema,\n  SignUpSchema,\n  SocialAuthSchema,\n  UserAccountType,\n  VerificationStatus\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 252, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/Cred%20Vault/Sunny/packages/ui/dist/index.mjs"],"sourcesContent":["// src/auth/AuthLayout.tsx\nimport { motion } from \"framer-motion\";\nimport { ArrowLeftIcon } from \"@heroicons/react/24/outline\";\nimport Link from \"next/link\";\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nfunction AuthLayout({\n  children,\n  title,\n  subtitle,\n  showBackButton = true,\n  backButtonText = \"Back to Home\",\n  backButtonHref = \"/\",\n  backgroundVariant = \"gradient\",\n  className = \"\"\n}) {\n  const backgroundClasses = {\n    gradient: \"bg-gradient-to-br from-green-50 via-white to-emerald-50 dark:from-gray-900 dark:via-gray-900 dark:to-green-900/20\",\n    pattern: \"bg-white dark:bg-gray-900\",\n    simple: \"bg-gray-50 dark:bg-gray-900\"\n  };\n  return /* @__PURE__ */ jsxs(\"div\", { className: `min-h-screen flex flex-col ${backgroundClasses[backgroundVariant]} ${className}`, children: [\n    /* @__PURE__ */ jsx(\"header\", { className: \"w-full\", children: /* @__PURE__ */ jsx(\"div\", { className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\", children: /* @__PURE__ */ jsxs(\"div\", { className: \"flex items-center justify-between\", children: [\n      /* @__PURE__ */ jsxs(Link, { href: \"/\", className: \"flex items-center space-x-3 group\", children: [\n        /* @__PURE__ */ jsxs(\"div\", { className: \"relative\", children: [\n          /* @__PURE__ */ jsxs(\"div\", { className: \"w-10 h-10 bg-gradient-to-br from-green-500 via-green-600 to-emerald-600 rounded-xl shadow-lg group-hover:shadow-xl transition-all duration-300 flex items-center justify-center\", children: [\n            /* @__PURE__ */ jsx(\n              motion.div,\n              {\n                className: \"absolute inset-0 rounded-xl\",\n                initial: { opacity: 0 },\n                whileHover: {\n                  opacity: 1,\n                  boxShadow: \"0 0 20px rgba(34, 197, 94, 0.4)\"\n                },\n                transition: { duration: 0.3 }\n              }\n            ),\n            /* @__PURE__ */ jsx(\"span\", { className: \"text-white font-bold text-lg relative z-10 font-mono\", children: \"S\" })\n          ] }),\n          /* @__PURE__ */ jsx(\n            motion.div,\n            {\n              className: \"absolute inset-0 rounded-xl bg-green-400\",\n              initial: { scale: 1, opacity: 0 },\n              animate: { scale: [1, 1.2, 1], opacity: [0, 0.3, 0] },\n              transition: { duration: 2, repeat: Infinity, ease: \"easeInOut\" }\n            }\n          )\n        ] }),\n        /* @__PURE__ */ jsxs(\"div\", { className: \"flex flex-col\", children: [\n          /* @__PURE__ */ jsx(\"span\", { className: \"text-xl font-bold text-gray-900 dark:text-white tracking-tight\", children: \"Sunny\" }),\n          /* @__PURE__ */ jsx(\"span\", { className: \"text-sm text-gray-500 dark:text-gray-400 font-medium -mt-1\", children: \"Payments\" })\n        ] })\n      ] }),\n      showBackButton && /* @__PURE__ */ jsxs(\n        Link,\n        {\n          href: backButtonHref,\n          className: \"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white rounded-lg hover:bg-white/50 dark:hover:bg-gray-800/50 transition-all duration-200\",\n          children: [\n            /* @__PURE__ */ jsx(ArrowLeftIcon, { className: \"h-4 w-4\" }),\n            /* @__PURE__ */ jsx(\"span\", { className: \"hidden sm:inline\", children: backButtonText })\n          ]\n        }\n      )\n    ] }) }) }),\n    /* @__PURE__ */ jsx(\"main\", { className: \"flex-1 flex items-center justify-center px-4 sm:px-6 lg:px-8 py-12\", children: /* @__PURE__ */ jsxs(\"div\", { className: \"w-full max-w-md\", children: [\n      /* @__PURE__ */ jsxs(\"div\", { className: \"text-center mb-8\", children: [\n        /* @__PURE__ */ jsx(\n          motion.h1,\n          {\n            initial: { opacity: 0, y: -20 },\n            animate: { opacity: 1, y: 0 },\n            transition: { duration: 0.5 },\n            className: \"text-3xl font-bold text-gray-900 dark:text-white mb-2\",\n            children: title\n          }\n        ),\n        subtitle && /* @__PURE__ */ jsx(\n          motion.p,\n          {\n            initial: { opacity: 0, y: -10 },\n            animate: { opacity: 1, y: 0 },\n            transition: { duration: 0.5, delay: 0.1 },\n            className: \"text-gray-600 dark:text-gray-400 text-base\",\n            children: subtitle\n          }\n        )\n      ] }),\n      /* @__PURE__ */ jsx(\n        motion.div,\n        {\n          initial: { opacity: 0, y: 20 },\n          animate: { opacity: 1, y: 0 },\n          transition: { duration: 0.5, delay: 0.2 },\n          className: \"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-100 dark:border-gray-700 p-8\",\n          children\n        }\n      ),\n      backgroundVariant === \"pattern\" && /* @__PURE__ */ jsx(\"div\", { className: \"fixed inset-0 -z-10 opacity-5 dark:opacity-10\", children: /* @__PURE__ */ jsxs(\n        \"svg\",\n        {\n          className: \"absolute inset-0 h-full w-full\",\n          xmlns: \"http://www.w3.org/2000/svg\",\n          children: [\n            /* @__PURE__ */ jsx(\"defs\", { children: /* @__PURE__ */ jsx(\n              \"pattern\",\n              {\n                id: \"grid-pattern\",\n                width: \"32\",\n                height: \"32\",\n                patternUnits: \"userSpaceOnUse\",\n                children: /* @__PURE__ */ jsx(\n                  \"path\",\n                  {\n                    d: \"M0 32V.5h32\",\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    strokeWidth: \"1\"\n                  }\n                )\n              }\n            ) }),\n            /* @__PURE__ */ jsx(\"rect\", { width: \"100%\", height: \"100%\", fill: \"url(#grid-pattern)\" })\n          ]\n        }\n      ) })\n    ] }) }),\n    /* @__PURE__ */ jsx(\"footer\", { className: \"w-full\", children: /* @__PURE__ */ jsx(\"div\", { className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\", children: /* @__PURE__ */ jsxs(\"div\", { className: \"flex flex-col sm:flex-row items-center justify-between space-y-4 sm:space-y-0 text-sm text-gray-500 dark:text-gray-400\", children: [\n      /* @__PURE__ */ jsxs(\"div\", { className: \"flex items-center space-x-6\", children: [\n        /* @__PURE__ */ jsxs(\"span\", { children: [\n          \"\\xA9 \",\n          (/* @__PURE__ */ new Date()).getFullYear(),\n          \" Sunny Payments\"\n        ] }),\n        /* @__PURE__ */ jsx(Link, { href: \"/privacy\", className: \"hover:text-gray-900 dark:hover:text-white transition-colors\", children: \"Privacy Policy\" }),\n        /* @__PURE__ */ jsx(Link, { href: \"/terms\", className: \"hover:text-gray-900 dark:hover:text-white transition-colors\", children: \"Terms of Service\" })\n      ] }),\n      /* @__PURE__ */ jsxs(\"div\", { className: \"flex items-center space-x-4\", children: [\n        /* @__PURE__ */ jsx(Link, { href: \"/support\", className: \"hover:text-gray-900 dark:hover:text-white transition-colors\", children: \"Support\" }),\n        /* @__PURE__ */ jsx(Link, { href: \"/status\", className: \"hover:text-gray-900 dark:hover:text-white transition-colors\", children: \"System Status\" })\n      ] })\n    ] }) }) })\n  ] });\n}\n\n// src/auth/SignInForm.tsx\nimport { useState } from \"react\";\nimport { motion as motion2, AnimatePresence } from \"framer-motion\";\nimport { useForm } from \"react-hook-form\";\nimport {\n  EyeIcon,\n  EyeSlashIcon,\n  ArrowRightIcon,\n  ExclamationTriangleIcon,\n  CheckCircleIcon,\n  DevicePhoneMobileIcon,\n  EnvelopeIcon,\n  ShieldCheckIcon\n} from \"@heroicons/react/24/outline\";\nimport {\n  UserCircleIcon,\n  BuildingOfficeIcon,\n  CodeBracketIcon,\n  CogIcon,\n  BanknotesIcon\n} from \"@heroicons/react/24/solid\";\nimport Link2 from \"next/link\";\nimport { UserAccountType, MFAType } from \"@sunny/shared-types\";\nimport { jsx as jsx2, jsxs as jsxs2 } from \"react/jsx-runtime\";\nfunction SignInForm({\n  onSubmit,\n  defaultAccountType,\n  redirectUrl,\n  className = \"\"\n}) {\n  const [showPassword, setShowPassword] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [authError, setAuthError] = useState(null);\n  const [requiresMFA, setRequiresMFA] = useState(false);\n  const [availableMFAMethods, setAvailableMFAMethods] = useState([]);\n  const [selectedMFAMethod, setSelectedMFAMethod] = useState(null);\n  const [mfaCode, setMfaCode] = useState(\"\");\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    watch,\n    setValue,\n    setError\n  } = useForm({\n    defaultValues: {\n      email: \"\",\n      password: \"\",\n      accountType: defaultAccountType,\n      rememberMe: false\n    }\n  });\n  const accountType = watch(\"accountType\");\n  const accountTypeOptions = [\n    {\n      value: UserAccountType.INDIVIDUAL,\n      label: \"Individual\",\n      description: \"Personal payment account\",\n      icon: UserCircleIcon,\n      destination: \"app.sunnypayments.com\"\n    },\n    {\n      value: UserAccountType.BUSINESS,\n      label: \"Business\",\n      description: \"Merchant account for businesses\",\n      icon: BuildingOfficeIcon,\n      destination: \"business.sunnypayments.com\"\n    },\n    {\n      value: UserAccountType.INSTITUTION,\n      label: \"Institution\",\n      description: \"Banks, SACCOs, and financial institutions\",\n      icon: BanknotesIcon,\n      destination: \"institutions.sunnypayments.com\"\n    },\n    {\n      value: UserAccountType.DEVELOPER,\n      label: \"Developer\",\n      description: \"API access and integration tools\",\n      icon: CodeBracketIcon,\n      destination: \"developers.sunnypayments.com\"\n    },\n    {\n      value: UserAccountType.ADMIN,\n      label: \"Admin\",\n      description: \"Platform administration\",\n      icon: CogIcon,\n      destination: \"admin.sunnypayments.com\"\n    }\n  ];\n  const mfaMethodOptions = [\n    {\n      value: MFAType.SMS,\n      label: \"SMS Code\",\n      description: \"Code sent to your phone\",\n      icon: DevicePhoneMobileIcon\n    },\n    {\n      value: MFAType.EMAIL,\n      label: \"Email Code\",\n      description: \"Code sent to your email\",\n      icon: EnvelopeIcon\n    },\n    {\n      value: MFAType.TOTP,\n      label: \"Authenticator App\",\n      description: \"Code from authenticator app\",\n      icon: ShieldCheckIcon\n    }\n  ];\n  const handleFormSubmit = async (data) => {\n    try {\n      setIsLoading(true);\n      setAuthError(null);\n      const signInData = {\n        email: data.email,\n        password: data.password,\n        accountType: data.accountType,\n        rememberMe: data.rememberMe || false,\n        mfaCode: requiresMFA && selectedMFAMethod && mfaCode ? mfaCode : void 0\n      };\n      const response = await onSubmit(signInData);\n      if (response.success) {\n        if (response.redirectUrl) {\n          window.location.href = response.redirectUrl;\n        }\n      } else if (response.requiresMFA) {\n        setRequiresMFA(true);\n        setAvailableMFAMethods(response.mfaMethods || []);\n        setSelectedMFAMethod(response.mfaMethods?.[0] || null);\n      } else if (response.error) {\n        setAuthError(response.error.message);\n        if (response.error.field) {\n          setError(response.error.field, {\n            type: \"manual\",\n            message: response.error.message\n          });\n        }\n      }\n    } catch (error) {\n      setAuthError(error instanceof Error ? error.message : \"An unexpected error occurred\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleMFASubmit = async () => {\n    if (!mfaCode || !selectedMFAMethod) return;\n    const currentFormData = watch();\n    await handleFormSubmit(currentFormData);\n  };\n  const resetMFA = () => {\n    setRequiresMFA(false);\n    setAvailableMFAMethods([]);\n    setSelectedMFAMethod(null);\n    setMfaCode(\"\");\n    setAuthError(null);\n  };\n  return /* @__PURE__ */ jsx2(\"div\", { className: `w-full ${className}`, children: /* @__PURE__ */ jsx2(AnimatePresence, { mode: \"wait\", children: !requiresMFA ? (\n    // Main Sign In Form\n    /* @__PURE__ */ jsxs2(\n      motion2.form,\n      {\n        initial: { opacity: 0, x: -20 },\n        animate: { opacity: 1, x: 0 },\n        exit: { opacity: 0, x: -20 },\n        transition: { duration: 0.3 },\n        onSubmit: handleSubmit(handleFormSubmit),\n        className: \"space-y-6\",\n        children: [\n          !defaultAccountType && /* @__PURE__ */ jsxs2(\"div\", { className: \"space-y-3\", children: [\n            /* @__PURE__ */ jsx2(\"label\", { className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: \"Account Type\" }),\n            /* @__PURE__ */ jsx2(\"div\", { className: \"grid grid-cols-1 gap-3\", children: accountTypeOptions.map((option) => {\n              const Icon = option.icon;\n              return /* @__PURE__ */ jsxs2(\n                motion2.label,\n                {\n                  whileHover: { scale: 1.02 },\n                  whileTap: { scale: 0.98 },\n                  className: `relative flex items-center p-4 border-2 rounded-xl cursor-pointer transition-all duration-200 ${accountType === option.value ? \"border-green-500 bg-green-50 dark:bg-green-900/20\" : \"border-gray-200 dark:border-gray-600 hover:border-green-300 dark:hover:border-green-600\"}`,\n                  children: [\n                    /* @__PURE__ */ jsx2(\n                      \"input\",\n                      {\n                        type: \"radio\",\n                        value: option.value,\n                        ...register(\"accountType\"),\n                        className: \"sr-only\"\n                      }\n                    ),\n                    /* @__PURE__ */ jsx2(Icon, { className: `h-6 w-6 mr-3 ${accountType === option.value ? \"text-green-600\" : \"text-gray-400\"}` }),\n                    /* @__PURE__ */ jsxs2(\"div\", { className: \"flex-1\", children: [\n                      /* @__PURE__ */ jsxs2(\"div\", { className: \"flex items-center justify-between\", children: [\n                        /* @__PURE__ */ jsx2(\"h3\", { className: `font-medium ${accountType === option.value ? \"text-green-900 dark:text-green-100\" : \"text-gray-900 dark:text-white\"}`, children: option.label }),\n                        /* @__PURE__ */ jsx2(\"span\", { className: \"text-xs text-gray-500 dark:text-gray-400\", children: option.destination })\n                      ] }),\n                      /* @__PURE__ */ jsx2(\"p\", { className: `text-sm ${accountType === option.value ? \"text-green-700 dark:text-green-300\" : \"text-gray-500 dark:text-gray-400\"}`, children: option.description })\n                    ] }),\n                    accountType === option.value && /* @__PURE__ */ jsx2(CheckCircleIcon, { className: \"h-5 w-5 text-green-600 ml-2\" })\n                  ]\n                },\n                option.value\n              );\n            }) }),\n            errors.accountType && /* @__PURE__ */ jsx2(\"p\", { className: \"text-sm text-red-600 dark:text-red-400\", children: errors.accountType.message })\n          ] }),\n          /* @__PURE__ */ jsxs2(\"div\", { className: \"space-y-2\", children: [\n            /* @__PURE__ */ jsx2(\"label\", { htmlFor: \"email\", className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: \"Email Address\" }),\n            /* @__PURE__ */ jsx2(\n              \"input\",\n              {\n                id: \"email\",\n                type: \"email\",\n                autoComplete: \"email\",\n                ...register(\"email\"),\n                className: `w-full px-4 py-3 border rounded-xl transition-all duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ${errors.email ? \"border-red-300 dark:border-red-600\" : \"border-gray-300 dark:border-gray-600\"}`,\n                placeholder: \"Enter your email address\"\n              }\n            ),\n            errors.email && /* @__PURE__ */ jsxs2(\"p\", { className: \"text-sm text-red-600 dark:text-red-400 flex items-center\", children: [\n              /* @__PURE__ */ jsx2(ExclamationTriangleIcon, { className: \"h-4 w-4 mr-1\" }),\n              errors.email.message\n            ] })\n          ] }),\n          /* @__PURE__ */ jsxs2(\"div\", { className: \"space-y-2\", children: [\n            /* @__PURE__ */ jsx2(\"label\", { htmlFor: \"password\", className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: \"Password\" }),\n            /* @__PURE__ */ jsxs2(\"div\", { className: \"relative\", children: [\n              /* @__PURE__ */ jsx2(\n                \"input\",\n                {\n                  id: \"password\",\n                  type: showPassword ? \"text\" : \"password\",\n                  autoComplete: \"current-password\",\n                  ...register(\"password\"),\n                  className: `w-full px-4 py-3 pr-12 border rounded-xl transition-all duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ${errors.password ? \"border-red-300 dark:border-red-600\" : \"border-gray-300 dark:border-gray-600\"}`,\n                  placeholder: \"Enter your password\"\n                }\n              ),\n              /* @__PURE__ */ jsx2(\n                \"button\",\n                {\n                  type: \"button\",\n                  onClick: () => setShowPassword(!showPassword),\n                  className: \"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors\",\n                  children: showPassword ? /* @__PURE__ */ jsx2(EyeSlashIcon, { className: \"h-5 w-5\" }) : /* @__PURE__ */ jsx2(EyeIcon, { className: \"h-5 w-5\" })\n                }\n              )\n            ] }),\n            errors.password && /* @__PURE__ */ jsxs2(\"p\", { className: \"text-sm text-red-600 dark:text-red-400 flex items-center\", children: [\n              /* @__PURE__ */ jsx2(ExclamationTriangleIcon, { className: \"h-4 w-4 mr-1\" }),\n              errors.password.message\n            ] })\n          ] }),\n          /* @__PURE__ */ jsxs2(\"div\", { className: \"flex items-center justify-between\", children: [\n            /* @__PURE__ */ jsxs2(\"label\", { className: \"flex items-center\", children: [\n              /* @__PURE__ */ jsx2(\n                \"input\",\n                {\n                  type: \"checkbox\",\n                  ...register(\"rememberMe\"),\n                  className: \"h-4 w-4 text-green-600 border-gray-300 rounded focus:ring-green-500 focus:ring-2\"\n                }\n              ),\n              /* @__PURE__ */ jsx2(\"span\", { className: \"ml-2 text-sm text-gray-600 dark:text-gray-400\", children: \"Remember me\" })\n            ] }),\n            /* @__PURE__ */ jsx2(\n              Link2,\n              {\n                href: \"/forgot-password\",\n                className: \"text-sm font-medium text-green-600 hover:text-green-500 dark:text-green-400 dark:hover:text-green-300 transition-colors\",\n                children: \"Forgot password?\"\n              }\n            )\n          ] }),\n          authError && /* @__PURE__ */ jsx2(\n            motion2.div,\n            {\n              initial: { opacity: 0, y: -10 },\n              animate: { opacity: 1, y: 0 },\n              className: \"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl\",\n              children: /* @__PURE__ */ jsxs2(\"div\", { className: \"flex items-center\", children: [\n                /* @__PURE__ */ jsx2(ExclamationTriangleIcon, { className: \"h-5 w-5 text-red-500 mr-2\" }),\n                /* @__PURE__ */ jsx2(\"p\", { className: \"text-sm text-red-700 dark:text-red-300\", children: authError })\n              ] })\n            }\n          ),\n          /* @__PURE__ */ jsx2(\n            motion2.button,\n            {\n              type: \"submit\",\n              disabled: isLoading,\n              whileHover: { scale: 1.02 },\n              whileTap: { scale: 0.98 },\n              className: \"w-full bg-gradient-to-r from-green-600 to-emerald-600 text-white py-3 px-4 rounded-xl font-medium hover:from-green-700 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center\",\n              children: isLoading ? /* @__PURE__ */ jsxs2(\"div\", { className: \"flex items-center\", children: [\n                /* @__PURE__ */ jsx2(\"div\", { className: \"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\" }),\n                \"Signing in...\"\n              ] }) : /* @__PURE__ */ jsxs2(\"div\", { className: \"flex items-center\", children: [\n                \"Sign In\",\n                /* @__PURE__ */ jsx2(ArrowRightIcon, { className: \"ml-2 h-5 w-5\" })\n              ] })\n            }\n          ),\n          /* @__PURE__ */ jsxs2(\"p\", { className: \"text-center text-sm text-gray-600 dark:text-gray-400\", children: [\n            \"Don't have an account?\",\n            \" \",\n            /* @__PURE__ */ jsx2(\n              Link2,\n              {\n                href: `/sign-up${accountType ? `?type=${accountType}` : \"\"}${redirectUrl ? `&redirect=${encodeURIComponent(redirectUrl)}` : \"\"}`,\n                className: \"font-medium text-green-600 hover:text-green-500 dark:text-green-400 dark:hover:text-green-300 transition-colors\",\n                children: \"Sign up here\"\n              }\n            )\n          ] })\n        ]\n      },\n      \"signin-form\"\n    )\n  ) : (\n    // MFA Form\n    /* @__PURE__ */ jsxs2(\n      motion2.div,\n      {\n        initial: { opacity: 0, x: 20 },\n        animate: { opacity: 1, x: 0 },\n        exit: { opacity: 0, x: 20 },\n        transition: { duration: 0.3 },\n        className: \"space-y-6\",\n        children: [\n          /* @__PURE__ */ jsxs2(\"div\", { className: \"text-center\", children: [\n            /* @__PURE__ */ jsx2(ShieldCheckIcon, { className: \"h-12 w-12 text-green-600 mx-auto mb-4\" }),\n            /* @__PURE__ */ jsx2(\"h3\", { className: \"text-lg font-semibold text-gray-900 dark:text-white mb-2\", children: \"Two-Factor Authentication\" }),\n            /* @__PURE__ */ jsx2(\"p\", { className: \"text-gray-600 dark:text-gray-400\", children: \"Please verify your identity to continue\" })\n          ] }),\n          availableMFAMethods.length > 1 && /* @__PURE__ */ jsxs2(\"div\", { className: \"space-y-3\", children: [\n            /* @__PURE__ */ jsx2(\"label\", { className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: \"Verification Method\" }),\n            /* @__PURE__ */ jsx2(\"div\", { className: \"space-y-2\", children: mfaMethodOptions.filter((option) => availableMFAMethods.includes(option.value)).map((option) => {\n              const Icon = option.icon;\n              return /* @__PURE__ */ jsxs2(\n                \"label\",\n                {\n                  className: `flex items-center p-3 border rounded-lg cursor-pointer transition-all duration-200 ${selectedMFAMethod === option.value ? \"border-green-500 bg-green-50 dark:bg-green-900/20\" : \"border-gray-200 dark:border-gray-600 hover:border-green-300\"}`,\n                  children: [\n                    /* @__PURE__ */ jsx2(\n                      \"input\",\n                      {\n                        type: \"radio\",\n                        name: \"mfaMethod\",\n                        value: option.value,\n                        checked: selectedMFAMethod === option.value,\n                        onChange: (e) => setSelectedMFAMethod(e.target.value),\n                        className: \"sr-only\"\n                      }\n                    ),\n                    /* @__PURE__ */ jsx2(Icon, { className: `h-5 w-5 mr-3 ${selectedMFAMethod === option.value ? \"text-green-600\" : \"text-gray-400\"}` }),\n                    /* @__PURE__ */ jsxs2(\"div\", { children: [\n                      /* @__PURE__ */ jsx2(\"p\", { className: `font-medium ${selectedMFAMethod === option.value ? \"text-green-900 dark:text-green-100\" : \"text-gray-900 dark:text-white\"}`, children: option.label }),\n                      /* @__PURE__ */ jsx2(\"p\", { className: `text-sm ${selectedMFAMethod === option.value ? \"text-green-700 dark:text-green-300\" : \"text-gray-500 dark:text-gray-400\"}`, children: option.description })\n                    ] })\n                  ]\n                },\n                option.value\n              );\n            }) })\n          ] }),\n          /* @__PURE__ */ jsxs2(\"div\", { className: \"space-y-2\", children: [\n            /* @__PURE__ */ jsx2(\"label\", { htmlFor: \"mfaCode\", className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: \"Verification Code\" }),\n            /* @__PURE__ */ jsx2(\n              \"input\",\n              {\n                id: \"mfaCode\",\n                type: \"text\",\n                value: mfaCode,\n                onChange: (e) => setMfaCode(e.target.value.replace(/\\D/g, \"\").slice(0, 6)),\n                className: \"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl transition-all duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-center text-lg tracking-widest focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\",\n                placeholder: \"000000\",\n                maxLength: 6,\n                autoComplete: \"one-time-code\"\n              }\n            )\n          ] }),\n          authError && /* @__PURE__ */ jsx2(\n            motion2.div,\n            {\n              initial: { opacity: 0, y: -10 },\n              animate: { opacity: 1, y: 0 },\n              className: \"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl\",\n              children: /* @__PURE__ */ jsxs2(\"div\", { className: \"flex items-center\", children: [\n                /* @__PURE__ */ jsx2(ExclamationTriangleIcon, { className: \"h-5 w-5 text-red-500 mr-2\" }),\n                /* @__PURE__ */ jsx2(\"p\", { className: \"text-sm text-red-700 dark:text-red-300\", children: authError })\n              ] })\n            }\n          ),\n          /* @__PURE__ */ jsxs2(\"div\", { className: \"space-y-3\", children: [\n            /* @__PURE__ */ jsx2(\n              motion2.button,\n              {\n                onClick: handleMFASubmit,\n                disabled: isLoading || mfaCode.length !== 6,\n                whileHover: { scale: 1.02 },\n                whileTap: { scale: 0.98 },\n                className: \"w-full bg-gradient-to-r from-green-600 to-emerald-600 text-white py-3 px-4 rounded-xl font-medium hover:from-green-700 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center\",\n                children: isLoading ? /* @__PURE__ */ jsxs2(\"div\", { className: \"flex items-center\", children: [\n                  /* @__PURE__ */ jsx2(\"div\", { className: \"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\" }),\n                  \"Verifying...\"\n                ] }) : \"Verify Code\"\n              }\n            ),\n            /* @__PURE__ */ jsx2(\n              \"button\",\n              {\n                type: \"button\",\n                onClick: resetMFA,\n                className: \"w-full text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors\",\n                children: \"Back to sign in\"\n              }\n            )\n          ] })\n        ]\n      },\n      \"mfa-form\"\n    )\n  ) }) });\n}\n\n// src/auth/SignUpForm.tsx\nimport { useState as useState2, useEffect as useEffect2 } from \"react\";\nimport { motion as motion3, AnimatePresence as AnimatePresence2 } from \"framer-motion\";\nimport { useForm as useForm2 } from \"react-hook-form\";\nimport {\n  EyeIcon as EyeIcon2,\n  EyeSlashIcon as EyeSlashIcon2,\n  ArrowRightIcon as ArrowRightIcon2,\n  ExclamationTriangleIcon as ExclamationTriangleIcon2,\n  CheckCircleIcon as CheckCircleIcon2,\n  PhoneIcon,\n  EnvelopeIcon as EnvelopeIcon2\n} from \"@heroicons/react/24/outline\";\nimport {\n  UserCircleIcon as UserCircleIcon2,\n  BuildingOfficeIcon as BuildingOfficeIcon2,\n  CodeBracketIcon as CodeBracketIcon2,\n  BanknotesIcon as BanknotesIcon2\n} from \"@heroicons/react/24/solid\";\nimport Link3 from \"next/link\";\nimport {\n  UserAccountType as UserAccountType2,\n  BusinessType,\n  InstitutionType\n} from \"@sunny/shared-types\";\nimport { Fragment, jsx as jsx3, jsxs as jsxs3 } from \"react/jsx-runtime\";\nfunction SignUpForm({\n  onSubmit,\n  defaultAccountType,\n  redirectUrl,\n  className = \"\"\n}) {\n  const [showPassword, setShowPassword] = useState2(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState2(false);\n  const [isLoading, setIsLoading] = useState2(false);\n  const [authError, setAuthError] = useState2(null);\n  const [passwordStrength, setPasswordStrength] = useState2(0);\n  const [currentStep, setCurrentStep] = useState2(1);\n  const totalSteps = 3;\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n    watch,\n    setValue,\n    setError,\n    trigger\n  } = useForm2({\n    defaultValues: {\n      accountType: defaultAccountType || UserAccountType2.INDIVIDUAL,\n      agreeToTerms: false,\n      agreeToPrivacy: false,\n      marketingConsent: false\n    }\n  });\n  const accountType = watch(\"accountType\");\n  const password = watch(\"password\");\n  const email = watch(\"email\");\n  const accountTypeOptions = [\n    {\n      value: UserAccountType2.INDIVIDUAL,\n      label: \"Individual\",\n      description: \"Personal payment account for individual users\",\n      icon: UserCircleIcon2,\n      destination: \"app.sunnypayments.com\"\n    },\n    {\n      value: UserAccountType2.BUSINESS,\n      label: \"Business\",\n      description: \"Merchant account for businesses and organizations\",\n      icon: BuildingOfficeIcon2,\n      destination: \"business.sunnypayments.com\"\n    },\n    {\n      value: UserAccountType2.INSTITUTION,\n      label: \"Institution\",\n      description: \"For banks, SACCOs, and financial institutions\",\n      icon: BanknotesIcon2,\n      destination: \"institutions.sunnypayments.com\"\n    },\n    {\n      value: UserAccountType2.DEVELOPER,\n      label: \"Developer\",\n      description: \"API access and integration tools for developers\",\n      icon: CodeBracketIcon2,\n      destination: \"developers.sunnypayments.com\"\n    }\n  ];\n  const businessTypeOptions = [\n    { value: BusinessType.SOLE_PROPRIETORSHIP, label: \"Sole Proprietorship\" },\n    { value: BusinessType.PARTNERSHIP, label: \"Partnership\" },\n    { value: BusinessType.CORPORATION, label: \"Corporation\" },\n    { value: BusinessType.LLC, label: \"Limited Liability Company (LLC)\" },\n    { value: BusinessType.NON_PROFIT, label: \"Non-Profit Organization\" },\n    { value: BusinessType.STARTUP, label: \"Startup\" },\n    { value: BusinessType.ENTERPRISE, label: \"Enterprise\" }\n  ];\n  const institutionTypeOptions = [\n    { value: InstitutionType.BANK, label: \"Commercial Bank\" },\n    { value: InstitutionType.CREDIT_UNION, label: \"Credit Union\" },\n    { value: InstitutionType.FINTECH, label: \"Fintech Company\" },\n    { value: InstitutionType.PAYMENT_PROCESSOR, label: \"Payment Processor\" },\n    { value: InstitutionType.REMITTANCE_SERVICE, label: \"Remittance Service\" },\n    { value: InstitutionType.SACCO, label: \"SACCO (Kenya)\" },\n    { value: InstitutionType.MICROFINANCE, label: \"Microfinance Institution\" }\n  ];\n  useEffect2(() => {\n    if (!password) {\n      setPasswordStrength(0);\n      return;\n    }\n    let strength = 0;\n    if (password.length >= 8) strength += 25;\n    if (password.length >= 12) strength += 25;\n    if (/[a-z]/.test(password)) strength += 10;\n    if (/[A-Z]/.test(password)) strength += 10;\n    if (/[0-9]/.test(password)) strength += 15;\n    if (/[^A-Za-z0-9]/.test(password)) strength += 15;\n    setPasswordStrength(Math.min(strength, 100));\n  }, [password]);\n  const getPasswordStrengthColor = (strength) => {\n    if (strength < 30) return \"bg-red-500\";\n    if (strength < 60) return \"bg-yellow-500\";\n    if (strength < 80) return \"bg-blue-500\";\n    return \"bg-green-500\";\n  };\n  const getPasswordStrengthText = (strength) => {\n    if (strength < 30) return \"Weak\";\n    if (strength < 60) return \"Fair\";\n    if (strength < 80) return \"Good\";\n    return \"Strong\";\n  };\n  const handleFormSubmit = async (data) => {\n    try {\n      setIsLoading(true);\n      setAuthError(null);\n      const signUpData = {\n        email: data.email,\n        password: data.password,\n        confirmPassword: data.confirmPassword,\n        firstName: data.firstName,\n        lastName: data.lastName,\n        accountType: data.accountType,\n        agreeToTerms: data.agreeToTerms,\n        agreeToPrivacy: data.agreeToPrivacy,\n        marketingConsent: data.marketingConsent,\n        businessName: data.businessName,\n        businessType: data.businessType,\n        institutionName: data.institutionName,\n        institutionType: data.institutionType,\n        company: data.company,\n        phone: data.phone,\n        referralCode: data.referralCode\n      };\n      const response = await onSubmit(signUpData);\n      if (response.success) {\n        if (response.redirectUrl) {\n          window.location.href = response.redirectUrl;\n        }\n      } else if (response.error) {\n        setAuthError(response.error.message);\n        if (response.error.field) {\n          setError(response.error.field, {\n            type: \"manual\",\n            message: response.error.message\n          });\n        }\n      }\n    } catch (error) {\n      setAuthError(error instanceof Error ? error.message : \"An unexpected error occurred\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleNextStep = async () => {\n    const fieldsToValidate = getFieldsForStep(currentStep);\n    const isValid = await trigger(fieldsToValidate);\n    if (isValid) {\n      setCurrentStep(currentStep + 1);\n    }\n  };\n  const getFieldsForStep = (step) => {\n    switch (step) {\n      case 1:\n        return [\"accountType\"];\n      case 2:\n        return [\"firstName\", \"lastName\", \"email\", \"phone\", \"businessName\", \"businessType\", \"institutionName\", \"institutionType\", \"company\"];\n      case 3:\n        return [\"password\", \"confirmPassword\", \"agreeToTerms\", \"agreeToPrivacy\"];\n      default:\n        return [];\n    }\n  };\n  const renderStep = () => {\n    switch (currentStep) {\n      case 1:\n        return renderAccountTypeStep();\n      case 2:\n        return renderPersonalInfoStep();\n      case 3:\n        return renderPasswordStep();\n      default:\n        return null;\n    }\n  };\n  const renderAccountTypeStep = () => /* @__PURE__ */ jsxs3(\n    motion3.div,\n    {\n      initial: { opacity: 0, x: 20 },\n      animate: { opacity: 1, x: 0 },\n      exit: { opacity: 0, x: -20 },\n      className: \"space-y-6\",\n      children: [\n        /* @__PURE__ */ jsxs3(\"div\", { className: \"text-center\", children: [\n          /* @__PURE__ */ jsx3(\"h3\", { className: \"text-lg font-semibold text-gray-900 dark:text-white mb-2\", children: \"Choose Your Account Type\" }),\n          /* @__PURE__ */ jsx3(\"p\", { className: \"text-gray-600 dark:text-gray-400\", children: \"Select the type of account that best describes your needs\" })\n        ] }),\n        /* @__PURE__ */ jsx3(\"div\", { className: \"space-y-3\", children: accountTypeOptions.map((option) => {\n          const Icon = option.icon;\n          return /* @__PURE__ */ jsxs3(\n            motion3.label,\n            {\n              whileHover: { scale: 1.02 },\n              whileTap: { scale: 0.98 },\n              className: `relative flex items-center p-4 border-2 rounded-xl cursor-pointer transition-all duration-200 ${accountType === option.value ? \"border-green-500 bg-green-50 dark:bg-green-900/20\" : \"border-gray-200 dark:border-gray-600 hover:border-green-300 dark:hover:border-green-600\"}`,\n              children: [\n                /* @__PURE__ */ jsx3(\n                  \"input\",\n                  {\n                    type: \"radio\",\n                    value: option.value,\n                    ...register(\"accountType\"),\n                    className: \"sr-only\"\n                  }\n                ),\n                /* @__PURE__ */ jsx3(Icon, { className: `h-8 w-8 mr-4 ${accountType === option.value ? \"text-green-600\" : \"text-gray-400\"}` }),\n                /* @__PURE__ */ jsxs3(\"div\", { className: \"flex-1\", children: [\n                  /* @__PURE__ */ jsxs3(\"div\", { className: \"flex items-center justify-between\", children: [\n                    /* @__PURE__ */ jsx3(\"h4\", { className: `font-medium ${accountType === option.value ? \"text-green-900 dark:text-green-100\" : \"text-gray-900 dark:text-white\"}`, children: option.label }),\n                    /* @__PURE__ */ jsx3(\"span\", { className: \"text-xs text-gray-500 dark:text-gray-400\", children: option.destination })\n                  ] }),\n                  /* @__PURE__ */ jsx3(\"p\", { className: `text-sm mt-1 ${accountType === option.value ? \"text-green-700 dark:text-green-300\" : \"text-gray-500 dark:text-gray-400\"}`, children: option.description })\n                ] }),\n                accountType === option.value && /* @__PURE__ */ jsx3(CheckCircleIcon2, { className: \"h-6 w-6 text-green-600 ml-2\" })\n              ]\n            },\n            option.value\n          );\n        }) }),\n        errors.accountType && /* @__PURE__ */ jsxs3(\"p\", { className: \"text-sm text-red-600 dark:text-red-400 flex items-center\", children: [\n          /* @__PURE__ */ jsx3(ExclamationTriangleIcon2, { className: \"h-4 w-4 mr-1\" }),\n          errors.accountType.message\n        ] })\n      ]\n    },\n    \"step-1\"\n  );\n  const renderPersonalInfoStep = () => /* @__PURE__ */ jsxs3(\n    motion3.div,\n    {\n      initial: { opacity: 0, x: 20 },\n      animate: { opacity: 1, x: 0 },\n      exit: { opacity: 0, x: -20 },\n      className: \"space-y-6\",\n      children: [\n        /* @__PURE__ */ jsxs3(\"div\", { className: \"text-center\", children: [\n          /* @__PURE__ */ jsx3(\"h3\", { className: \"text-lg font-semibold text-gray-900 dark:text-white mb-2\", children: \"Personal Information\" }),\n          /* @__PURE__ */ jsx3(\"p\", { className: \"text-gray-600 dark:text-gray-400\", children: \"Tell us about yourself to create your account\" })\n        ] }),\n        /* @__PURE__ */ jsxs3(\"div\", { className: \"grid grid-cols-1 md:grid-cols-2 gap-4\", children: [\n          /* @__PURE__ */ jsxs3(\"div\", { className: \"space-y-2\", children: [\n            /* @__PURE__ */ jsx3(\"label\", { htmlFor: \"firstName\", className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: \"First Name\" }),\n            /* @__PURE__ */ jsx3(\n              \"input\",\n              {\n                id: \"firstName\",\n                type: \"text\",\n                autoComplete: \"given-name\",\n                ...register(\"firstName\"),\n                className: `w-full px-4 py-3 border rounded-xl transition-all duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ${errors.firstName ? \"border-red-300 dark:border-red-600\" : \"border-gray-300 dark:border-gray-600\"}`,\n                placeholder: \"John\"\n              }\n            ),\n            errors.firstName && /* @__PURE__ */ jsx3(\"p\", { className: \"text-sm text-red-600 dark:text-red-400\", children: errors.firstName.message })\n          ] }),\n          /* @__PURE__ */ jsxs3(\"div\", { className: \"space-y-2\", children: [\n            /* @__PURE__ */ jsx3(\"label\", { htmlFor: \"lastName\", className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: \"Last Name\" }),\n            /* @__PURE__ */ jsx3(\n              \"input\",\n              {\n                id: \"lastName\",\n                type: \"text\",\n                autoComplete: \"family-name\",\n                ...register(\"lastName\"),\n                className: `w-full px-4 py-3 border rounded-xl transition-all duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ${errors.lastName ? \"border-red-300 dark:border-red-600\" : \"border-gray-300 dark:border-gray-600\"}`,\n                placeholder: \"Doe\"\n              }\n            ),\n            errors.lastName && /* @__PURE__ */ jsx3(\"p\", { className: \"text-sm text-red-600 dark:text-red-400\", children: errors.lastName.message })\n          ] })\n        ] }),\n        /* @__PURE__ */ jsxs3(\"div\", { className: \"space-y-2\", children: [\n          /* @__PURE__ */ jsx3(\"label\", { htmlFor: \"email\", className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: \"Email Address\" }),\n          /* @__PURE__ */ jsxs3(\"div\", { className: \"relative\", children: [\n            /* @__PURE__ */ jsx3(\n              \"input\",\n              {\n                id: \"email\",\n                type: \"email\",\n                autoComplete: \"email\",\n                ...register(\"email\"),\n                className: `w-full px-4 py-3 pl-12 border rounded-xl transition-all duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ${errors.email ? \"border-red-300 dark:border-red-600\" : \"border-gray-300 dark:border-gray-600\"}`,\n                placeholder: \"john@example.com\"\n              }\n            ),\n            /* @__PURE__ */ jsx3(EnvelopeIcon2, { className: \"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2\" })\n          ] }),\n          errors.email && /* @__PURE__ */ jsx3(\"p\", { className: \"text-sm text-red-600 dark:text-red-400\", children: errors.email.message })\n        ] }),\n        /* @__PURE__ */ jsxs3(\"div\", { className: \"space-y-2\", children: [\n          /* @__PURE__ */ jsxs3(\"label\", { htmlFor: \"phone\", className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: [\n            \"Phone Number \",\n            /* @__PURE__ */ jsx3(\"span\", { className: \"text-gray-400\", children: \"(Optional)\" })\n          ] }),\n          /* @__PURE__ */ jsxs3(\"div\", { className: \"relative\", children: [\n            /* @__PURE__ */ jsx3(\n              \"input\",\n              {\n                id: \"phone\",\n                type: \"tel\",\n                autoComplete: \"tel\",\n                ...register(\"phone\"),\n                className: `w-full px-4 py-3 pl-12 border rounded-xl transition-all duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ${errors.phone ? \"border-red-300 dark:border-red-600\" : \"border-gray-300 dark:border-gray-600\"}`,\n                placeholder: \"+1 (555) 123-4567\"\n              }\n            ),\n            /* @__PURE__ */ jsx3(PhoneIcon, { className: \"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2\" })\n          ] }),\n          errors.phone && /* @__PURE__ */ jsx3(\"p\", { className: \"text-sm text-red-600 dark:text-red-400\", children: errors.phone.message })\n        ] }),\n        accountType === UserAccountType2.BUSINESS && /* @__PURE__ */ jsxs3(Fragment, { children: [\n          /* @__PURE__ */ jsxs3(\"div\", { className: \"space-y-2\", children: [\n            /* @__PURE__ */ jsx3(\"label\", { htmlFor: \"businessName\", className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: \"Business Name\" }),\n            /* @__PURE__ */ jsx3(\n              \"input\",\n              {\n                id: \"businessName\",\n                type: \"text\",\n                ...register(\"businessName\"),\n                className: `w-full px-4 py-3 border rounded-xl transition-all duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ${errors.businessName ? \"border-red-300 dark:border-red-600\" : \"border-gray-300 dark:border-gray-600\"}`,\n                placeholder: \"Acme Corp\"\n              }\n            ),\n            errors.businessName && /* @__PURE__ */ jsx3(\"p\", { className: \"text-sm text-red-600 dark:text-red-400\", children: errors.businessName.message })\n          ] }),\n          /* @__PURE__ */ jsxs3(\"div\", { className: \"space-y-2\", children: [\n            /* @__PURE__ */ jsx3(\"label\", { htmlFor: \"businessType\", className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: \"Business Type\" }),\n            /* @__PURE__ */ jsxs3(\n              \"select\",\n              {\n                id: \"businessType\",\n                ...register(\"businessType\"),\n                className: `w-full px-4 py-3 border rounded-xl transition-all duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ${errors.businessType ? \"border-red-300 dark:border-red-600\" : \"border-gray-300 dark:border-gray-600\"}`,\n                children: [\n                  /* @__PURE__ */ jsx3(\"option\", { value: \"\", children: \"Select business type\" }),\n                  businessTypeOptions.map((option) => /* @__PURE__ */ jsx3(\"option\", { value: option.value, children: option.label }, option.value))\n                ]\n              }\n            ),\n            errors.businessType && /* @__PURE__ */ jsx3(\"p\", { className: \"text-sm text-red-600 dark:text-red-400\", children: errors.businessType.message })\n          ] })\n        ] }),\n        accountType === UserAccountType2.INSTITUTION && /* @__PURE__ */ jsxs3(Fragment, { children: [\n          /* @__PURE__ */ jsxs3(\"div\", { className: \"space-y-2\", children: [\n            /* @__PURE__ */ jsx3(\"label\", { htmlFor: \"institutionName\", className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: \"Institution Name\" }),\n            /* @__PURE__ */ jsx3(\n              \"input\",\n              {\n                id: \"institutionName\",\n                type: \"text\",\n                ...register(\"institutionName\"),\n                className: `w-full px-4 py-3 border rounded-xl transition-all duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ${errors.institutionName ? \"border-red-300 dark:border-red-600\" : \"border-gray-300 dark:border-gray-600\"}`,\n                placeholder: \"Sunny Bank\"\n              }\n            ),\n            errors.institutionName && /* @__PURE__ */ jsx3(\"p\", { className: \"text-sm text-red-600 dark:text-red-400\", children: errors.institutionName.message })\n          ] }),\n          /* @__PURE__ */ jsxs3(\"div\", { className: \"space-y-2\", children: [\n            /* @__PURE__ */ jsx3(\"label\", { htmlFor: \"institutionType\", className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: \"Institution Type\" }),\n            /* @__PURE__ */ jsxs3(\n              \"select\",\n              {\n                id: \"institutionType\",\n                ...register(\"institutionType\"),\n                className: `w-full px-4 py-3 border rounded-xl transition-all duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ${errors.institutionType ? \"border-red-300 dark:border-red-600\" : \"border-gray-300 dark:border-gray-600\"}`,\n                children: [\n                  /* @__PURE__ */ jsx3(\"option\", { value: \"\", children: \"Select institution type\" }),\n                  institutionTypeOptions.map((option) => /* @__PURE__ */ jsx3(\"option\", { value: option.value, children: option.label }, option.value))\n                ]\n              }\n            ),\n            errors.institutionType && /* @__PURE__ */ jsx3(\"p\", { className: \"text-sm text-red-600 dark:text-red-400\", children: errors.institutionType.message })\n          ] })\n        ] }),\n        accountType === UserAccountType2.DEVELOPER && /* @__PURE__ */ jsxs3(\"div\", { className: \"space-y-2\", children: [\n          /* @__PURE__ */ jsxs3(\"label\", { htmlFor: \"company\", className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: [\n            \"Company \",\n            /* @__PURE__ */ jsx3(\"span\", { className: \"text-gray-400\", children: \"(Optional)\" })\n          ] }),\n          /* @__PURE__ */ jsx3(\n            \"input\",\n            {\n              id: \"company\",\n              type: \"text\",\n              ...register(\"company\"),\n              className: `w-full px-4 py-3 border rounded-xl transition-all duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ${errors.company ? \"border-red-300 dark:border-red-600\" : \"border-gray-300 dark:border-gray-600\"}`,\n              placeholder: \"Tech Corp\"\n            }\n          ),\n          errors.company && /* @__PURE__ */ jsx3(\"p\", { className: \"text-sm text-red-600 dark:text-red-400\", children: errors.company.message })\n        ] })\n      ]\n    },\n    \"step-2\"\n  );\n  const renderPasswordStep = () => /* @__PURE__ */ jsxs3(\n    motion3.div,\n    {\n      initial: { opacity: 0, x: 20 },\n      animate: { opacity: 1, x: 0 },\n      exit: { opacity: 0, x: -20 },\n      className: \"space-y-6\",\n      children: [\n        /* @__PURE__ */ jsxs3(\"div\", { className: \"text-center\", children: [\n          /* @__PURE__ */ jsx3(\"h3\", { className: \"text-lg font-semibold text-gray-900 dark:text-white mb-2\", children: \"Secure Your Account\" }),\n          /* @__PURE__ */ jsx3(\"p\", { className: \"text-gray-600 dark:text-gray-400\", children: \"Create a strong password and agree to our terms\" })\n        ] }),\n        /* @__PURE__ */ jsxs3(\"div\", { className: \"space-y-2\", children: [\n          /* @__PURE__ */ jsx3(\"label\", { htmlFor: \"password\", className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: \"Password\" }),\n          /* @__PURE__ */ jsxs3(\"div\", { className: \"relative\", children: [\n            /* @__PURE__ */ jsx3(\n              \"input\",\n              {\n                id: \"password\",\n                type: showPassword ? \"text\" : \"password\",\n                autoComplete: \"new-password\",\n                ...register(\"password\"),\n                className: `w-full px-4 py-3 pr-12 border rounded-xl transition-all duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ${errors.password ? \"border-red-300 dark:border-red-600\" : \"border-gray-300 dark:border-gray-600\"}`,\n                placeholder: \"Create a strong password\"\n              }\n            ),\n            /* @__PURE__ */ jsx3(\n              \"button\",\n              {\n                type: \"button\",\n                onClick: () => setShowPassword(!showPassword),\n                className: \"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors\",\n                children: showPassword ? /* @__PURE__ */ jsx3(EyeSlashIcon2, { className: \"h-5 w-5\" }) : /* @__PURE__ */ jsx3(EyeIcon2, { className: \"h-5 w-5\" })\n              }\n            )\n          ] }),\n          password && /* @__PURE__ */ jsxs3(\"div\", { className: \"space-y-2\", children: [\n            /* @__PURE__ */ jsxs3(\"div\", { className: \"flex items-center justify-between text-sm\", children: [\n              /* @__PURE__ */ jsx3(\"span\", { className: \"text-gray-600 dark:text-gray-400\", children: \"Password strength:\" }),\n              /* @__PURE__ */ jsx3(\"span\", { className: `font-medium ${passwordStrength < 30 ? \"text-red-600\" : passwordStrength < 60 ? \"text-yellow-600\" : passwordStrength < 80 ? \"text-blue-600\" : \"text-green-600\"}`, children: getPasswordStrengthText(passwordStrength) })\n            ] }),\n            /* @__PURE__ */ jsx3(\"div\", { className: \"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2\", children: /* @__PURE__ */ jsx3(\n              \"div\",\n              {\n                className: `h-2 rounded-full transition-all duration-300 ${getPasswordStrengthColor(passwordStrength)}`,\n                style: { width: `${passwordStrength}%` }\n              }\n            ) })\n          ] }),\n          errors.password && /* @__PURE__ */ jsx3(\"p\", { className: \"text-sm text-red-600 dark:text-red-400\", children: errors.password.message })\n        ] }),\n        /* @__PURE__ */ jsxs3(\"div\", { className: \"space-y-2\", children: [\n          /* @__PURE__ */ jsx3(\"label\", { htmlFor: \"confirmPassword\", className: \"block text-sm font-medium text-gray-700 dark:text-gray-300\", children: \"Confirm Password\" }),\n          /* @__PURE__ */ jsxs3(\"div\", { className: \"relative\", children: [\n            /* @__PURE__ */ jsx3(\n              \"input\",\n              {\n                id: \"confirmPassword\",\n                type: showConfirmPassword ? \"text\" : \"password\",\n                autoComplete: \"new-password\",\n                ...register(\"confirmPassword\"),\n                className: `w-full px-4 py-3 pr-12 border rounded-xl transition-all duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent ${errors.confirmPassword ? \"border-red-300 dark:border-red-600\" : \"border-gray-300 dark:border-gray-600\"}`,\n                placeholder: \"Confirm your password\"\n              }\n            ),\n            /* @__PURE__ */ jsx3(\n              \"button\",\n              {\n                type: \"button\",\n                onClick: () => setShowConfirmPassword(!showConfirmPassword),\n                className: \"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors\",\n                children: showConfirmPassword ? /* @__PURE__ */ jsx3(EyeSlashIcon2, { className: \"h-5 w-5\" }) : /* @__PURE__ */ jsx3(EyeIcon2, { className: \"h-5 w-5\" })\n              }\n            )\n          ] }),\n          errors.confirmPassword && /* @__PURE__ */ jsx3(\"p\", { className: \"text-sm text-red-600 dark:text-red-400\", children: errors.confirmPassword.message })\n        ] }),\n        /* @__PURE__ */ jsxs3(\"div\", { className: \"space-y-4\", children: [\n          /* @__PURE__ */ jsxs3(\"label\", { className: \"flex items-start\", children: [\n            /* @__PURE__ */ jsx3(\n              \"input\",\n              {\n                type: \"checkbox\",\n                ...register(\"agreeToTerms\"),\n                className: \"h-4 w-4 text-green-600 border-gray-300 rounded focus:ring-green-500 focus:ring-2 mt-1\"\n              }\n            ),\n            /* @__PURE__ */ jsxs3(\"span\", { className: \"ml-3 text-sm text-gray-600 dark:text-gray-400\", children: [\n              \"I agree to the\",\n              \" \",\n              /* @__PURE__ */ jsx3(Link3, { href: \"/terms\", className: \"text-green-600 hover:text-green-500 dark:text-green-400 dark:hover:text-green-300 underline\", children: \"Terms of Service\" }),\n              \" \",\n              \"and understand that my account will be subject to verification.\"\n            ] })\n          ] }),\n          errors.agreeToTerms && /* @__PURE__ */ jsx3(\"p\", { className: \"text-sm text-red-600 dark:text-red-400 ml-7\", children: errors.agreeToTerms.message }),\n          /* @__PURE__ */ jsxs3(\"label\", { className: \"flex items-start\", children: [\n            /* @__PURE__ */ jsx3(\n              \"input\",\n              {\n                type: \"checkbox\",\n                ...register(\"agreeToPrivacy\"),\n                className: \"h-4 w-4 text-green-600 border-gray-300 rounded focus:ring-green-500 focus:ring-2 mt-1\"\n              }\n            ),\n            /* @__PURE__ */ jsxs3(\"span\", { className: \"ml-3 text-sm text-gray-600 dark:text-gray-400\", children: [\n              \"I agree to the\",\n              \" \",\n              /* @__PURE__ */ jsx3(Link3, { href: \"/privacy\", className: \"text-green-600 hover:text-green-500 dark:text-green-400 dark:hover:text-green-300 underline\", children: \"Privacy Policy\" }),\n              \" \",\n              \"and consent to the processing of my personal data.\"\n            ] })\n          ] }),\n          errors.agreeToPrivacy && /* @__PURE__ */ jsx3(\"p\", { className: \"text-sm text-red-600 dark:text-red-400 ml-7\", children: errors.agreeToPrivacy.message }),\n          /* @__PURE__ */ jsxs3(\"label\", { className: \"flex items-start\", children: [\n            /* @__PURE__ */ jsx3(\n              \"input\",\n              {\n                type: \"checkbox\",\n                ...register(\"marketingConsent\"),\n                className: \"h-4 w-4 text-green-600 border-gray-300 rounded focus:ring-green-500 focus:ring-2 mt-1\"\n              }\n            ),\n            /* @__PURE__ */ jsxs3(\"span\", { className: \"ml-3 text-sm text-gray-600 dark:text-gray-400\", children: [\n              \"I would like to receive marketing communications and product updates from Sunny Payments.\",\n              \" \",\n              /* @__PURE__ */ jsx3(\"span\", { className: \"text-gray-500\", children: \"(Optional)\" })\n            ] })\n          ] })\n        ] }),\n        authError && /* @__PURE__ */ jsx3(\n          motion3.div,\n          {\n            initial: { opacity: 0, y: -10 },\n            animate: { opacity: 1, y: 0 },\n            className: \"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl\",\n            children: /* @__PURE__ */ jsxs3(\"div\", { className: \"flex items-center\", children: [\n              /* @__PURE__ */ jsx3(ExclamationTriangleIcon2, { className: \"h-5 w-5 text-red-500 mr-2\" }),\n              /* @__PURE__ */ jsx3(\"p\", { className: \"text-sm text-red-700 dark:text-red-300\", children: authError })\n            ] })\n          }\n        ),\n        /* @__PURE__ */ jsx3(\n          motion3.button,\n          {\n            type: \"submit\",\n            disabled: isLoading,\n            whileHover: { scale: 1.02 },\n            whileTap: { scale: 0.98 },\n            className: \"w-full bg-gradient-to-r from-green-600 to-emerald-600 text-white py-3 px-4 rounded-xl font-medium hover:from-green-700 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center\",\n            children: isLoading ? /* @__PURE__ */ jsxs3(\"div\", { className: \"flex items-center\", children: [\n              /* @__PURE__ */ jsx3(\"div\", { className: \"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2\" }),\n              \"Creating Account...\"\n            ] }) : /* @__PURE__ */ jsxs3(\"div\", { className: \"flex items-center\", children: [\n              \"Create Account\",\n              /* @__PURE__ */ jsx3(ArrowRightIcon2, { className: \"ml-2 h-5 w-5\" })\n            ] })\n          }\n        ),\n        /* @__PURE__ */ jsxs3(\"p\", { className: \"text-center text-sm text-gray-600 dark:text-gray-400\", children: [\n          \"Already have an account?\",\n          \" \",\n          /* @__PURE__ */ jsx3(\n            Link3,\n            {\n              href: `/sign-in${accountType ? `?type=${accountType}` : \"\"}${redirectUrl ? `&redirect=${encodeURIComponent(redirectUrl)}` : \"\"}`,\n              className: \"font-medium text-green-600 hover:text-green-500 dark:text-green-400 dark:hover:text-green-300 transition-colors\",\n              children: \"Sign in here\"\n            }\n          )\n        ] })\n      ]\n    },\n    \"step-3\"\n  );\n  return /* @__PURE__ */ jsxs3(\"div\", { className: `w-full ${className}`, children: [\n    /* @__PURE__ */ jsxs3(\"div\", { className: \"mb-8\", children: [\n      /* @__PURE__ */ jsxs3(\"div\", { className: \"flex items-center justify-between mb-2\", children: [\n        /* @__PURE__ */ jsxs3(\"span\", { className: \"text-sm font-medium text-gray-600 dark:text-gray-400\", children: [\n          \"Step \",\n          currentStep,\n          \" of \",\n          totalSteps\n        ] }),\n        /* @__PURE__ */ jsxs3(\"span\", { className: \"text-sm text-gray-500 dark:text-gray-500\", children: [\n          Math.round(currentStep / totalSteps * 100),\n          \"% Complete\"\n        ] })\n      ] }),\n      /* @__PURE__ */ jsx3(\"div\", { className: \"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2\", children: /* @__PURE__ */ jsx3(\n        motion3.div,\n        {\n          className: \"h-2 bg-gradient-to-r from-green-600 to-emerald-600 rounded-full\",\n          initial: { width: 0 },\n          animate: { width: `${currentStep / totalSteps * 100}%` },\n          transition: { duration: 0.5, ease: \"easeInOut\" }\n        }\n      ) })\n    ] }),\n    /* @__PURE__ */ jsxs3(\"form\", { onSubmit: handleSubmit(handleFormSubmit), children: [\n      /* @__PURE__ */ jsx3(AnimatePresence2, { mode: \"wait\", children: renderStep() }),\n      /* @__PURE__ */ jsxs3(\"div\", { className: \"flex justify-between mt-8 pt-6 border-t border-gray-100 dark:border-gray-800\", children: [\n        currentStep > 1 ? /* @__PURE__ */ jsx3(\n          \"button\",\n          {\n            type: \"button\",\n            onClick: () => setCurrentStep(currentStep - 1),\n            className: \"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-200\",\n            children: \"Previous\"\n          }\n        ) : /* @__PURE__ */ jsx3(\"div\", {}),\n        currentStep < totalSteps ? /* @__PURE__ */ jsx3(\n          \"button\",\n          {\n            type: \"button\",\n            onClick: handleNextStep,\n            className: \"px-6 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all duration-200\",\n            children: \"Next\"\n          }\n        ) : null\n      ] })\n    ] })\n  ] });\n}\n\n// src/auth/SocialAuthButtons.tsx\nimport { useState as useState3 } from \"react\";\nimport { motion as motion4 } from \"framer-motion\";\nimport {\n  AuthProvider,\n  UserAccountType as UserAccountType3\n} from \"@sunny/shared-types\";\nimport { jsx as jsx4, jsxs as jsxs4 } from \"react/jsx-runtime\";\nfunction SocialAuthButtons({\n  onSocialAuth,\n  accountType,\n  mode = \"signin\",\n  className = \"\"\n}) {\n  const [loadingProvider, setLoadingProvider] = useState3(null);\n  const handleSocialAuth = async (provider) => {\n    try {\n      setLoadingProvider(provider);\n      const response = await simulateOAuthFlow(provider);\n      if (response.accessToken) {\n        await onSocialAuth({\n          provider,\n          providerUserId: response.userId,\n          accessToken: response.accessToken,\n          refreshToken: response.refreshToken,\n          accountType\n        });\n      }\n    } catch (error) {\n      console.error(`${provider} authentication failed:`, error);\n    } finally {\n      setLoadingProvider(null);\n    }\n  };\n  const simulateOAuthFlow = async (provider) => {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        resolve({\n          userId: `${provider}_user_123`,\n          accessToken: `${provider}_access_token`,\n          refreshToken: `${provider}_refresh_token`\n        });\n      }, 1500);\n    });\n  };\n  const socialProviders = [\n    {\n      provider: AuthProvider.GOOGLE,\n      name: \"Google\",\n      bgColor: \"bg-white hover:bg-gray-50\",\n      textColor: \"text-gray-900\",\n      borderColor: \"border-gray-300\",\n      icon: /* @__PURE__ */ jsxs4(\"svg\", { className: \"w-5 h-5 mr-3\", viewBox: \"0 0 24 24\", children: [\n        /* @__PURE__ */ jsx4(\n          \"path\",\n          {\n            fill: \"#4285F4\",\n            d: \"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\n          }\n        ),\n        /* @__PURE__ */ jsx4(\n          \"path\",\n          {\n            fill: \"#34A853\",\n            d: \"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\n          }\n        ),\n        /* @__PURE__ */ jsx4(\n          \"path\",\n          {\n            fill: \"#FBBC05\",\n            d: \"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\n          }\n        ),\n        /* @__PURE__ */ jsx4(\n          \"path\",\n          {\n            fill: \"#EA4335\",\n            d: \"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\n          }\n        )\n      ] }),\n      description: accountType === UserAccountType3.BUSINESS ? \"Google Workspace\" : \"Personal Google account\"\n    },\n    {\n      provider: AuthProvider.APPLE,\n      name: \"Apple\",\n      bgColor: \"bg-black hover:bg-gray-900\",\n      textColor: \"text-white\",\n      borderColor: \"border-black\",\n      icon: /* @__PURE__ */ jsxs4(\"svg\", { className: \"w-5 h-5 mr-3\", fill: \"currentColor\", viewBox: \"0 0 24 24\", children: [\n        /* @__PURE__ */ jsx4(\"path\", { d: \"M12.017 11.99c-.016-3.246 2.639-4.805 2.759-4.875-1.503-2.2-3.842-2.5-4.676-2.534-1.99-.207-3.878 1.171-4.888 1.171-1.01 0-2.571-1.142-4.225-1.111-2.173.032-4.173 1.262-5.29 3.207-2.256 3.914-.576 9.708 1.621 12.881 1.074 1.552 2.357 3.296 4.037 3.233 1.614-.063 2.224-1.044 4.177-1.044 1.952 0 2.531 1.044 4.256 1.011 1.756-.032 2.86-1.566 3.934-3.118 1.243-1.793 1.754-3.53 1.785-3.621-.039-.016-3.426-1.313-3.462-5.2z\" }),\n        /* @__PURE__ */ jsx4(\"path\", { d: \"M15.194 7.036c.883-1.066 1.478-2.548 1.316-4.025-1.272.051-2.813.848-3.726 1.915-.821.952-1.54 2.471-1.347 3.927 1.425.111 2.879-.724 3.757-1.817z\" })\n      ] }),\n      description: \"Sign in with Apple ID\"\n    },\n    {\n      provider: AuthProvider.MICROSOFT,\n      name: \"Microsoft\",\n      bgColor: \"bg-blue-600 hover:bg-blue-700\",\n      textColor: \"text-white\",\n      borderColor: \"border-blue-600\",\n      icon: /* @__PURE__ */ jsxs4(\"svg\", { className: \"w-5 h-5 mr-3\", fill: \"currentColor\", viewBox: \"0 0 24 24\", children: [\n        /* @__PURE__ */ jsx4(\"path\", { d: \"M11.4 0H0v11.4h11.4V0z\" }),\n        /* @__PURE__ */ jsx4(\"path\", { d: \"M24 0H12.6v11.4H24V0z\" }),\n        /* @__PURE__ */ jsx4(\"path\", { d: \"M11.4 12.6H0V24h11.4V12.6z\" }),\n        /* @__PURE__ */ jsx4(\"path\", { d: \"M24 12.6H12.6V24H24V12.6z\" })\n      ] }),\n      description: accountType === UserAccountType3.BUSINESS ? \"Microsoft 365\" : \"Microsoft account\"\n    }\n  ];\n  if (accountType === UserAccountType3.BUSINESS) {\n    socialProviders.push({\n      provider: AuthProvider.LINKEDIN,\n      name: \"LinkedIn\",\n      bgColor: \"bg-blue-700 hover:bg-blue-800\",\n      textColor: \"text-white\",\n      borderColor: \"border-blue-700\",\n      icon: /* @__PURE__ */ jsx4(\"svg\", { className: \"w-5 h-5 mr-3\", fill: \"currentColor\", viewBox: \"0 0 24 24\", children: /* @__PURE__ */ jsx4(\"path\", { d: \"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z\" }) }),\n      description: \"Professional LinkedIn account\"\n    });\n  }\n  if (accountType === UserAccountType3.DEVELOPER) {\n    socialProviders.push({\n      provider: AuthProvider.GITHUB,\n      name: \"GitHub\",\n      bgColor: \"bg-gray-900 hover:bg-black\",\n      textColor: \"text-white\",\n      borderColor: \"border-gray-900\",\n      icon: /* @__PURE__ */ jsx4(\"svg\", { className: \"w-5 h-5 mr-3\", fill: \"currentColor\", viewBox: \"0 0 24 24\", children: /* @__PURE__ */ jsx4(\"path\", { d: \"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z\" }) }),\n      description: \"Developer GitHub account\"\n    });\n  }\n  return /* @__PURE__ */ jsxs4(\"div\", { className: `space-y-3 ${className}`, children: [\n    /* @__PURE__ */ jsxs4(\"div\", { className: \"relative\", children: [\n      /* @__PURE__ */ jsx4(\"div\", { className: \"absolute inset-0 flex items-center\", children: /* @__PURE__ */ jsx4(\"div\", { className: \"w-full border-t border-gray-300 dark:border-gray-600\" }) }),\n      /* @__PURE__ */ jsx4(\"div\", { className: \"relative flex justify-center text-sm\", children: /* @__PURE__ */ jsxs4(\"span\", { className: \"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400\", children: [\n        \"Or \",\n        mode === \"signin\" ? \"sign in\" : \"sign up\",\n        \" with\"\n      ] }) })\n    ] }),\n    /* @__PURE__ */ jsx4(\"div\", { className: \"space-y-3\", children: socialProviders.map((social) => /* @__PURE__ */ jsx4(\n      motion4.button,\n      {\n        type: \"button\",\n        onClick: () => handleSocialAuth(social.provider),\n        disabled: loadingProvider !== null,\n        whileHover: { scale: 1.02 },\n        whileTap: { scale: 0.98 },\n        className: `w-full flex items-center justify-center px-4 py-3 border rounded-xl font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed ${social.bgColor} ${social.textColor} ${social.borderColor} focus:ring-green-500`,\n        children: loadingProvider === social.provider ? /* @__PURE__ */ jsxs4(\"div\", { className: \"flex items-center\", children: [\n          /* @__PURE__ */ jsx4(\"div\", { className: \"animate-spin rounded-full h-5 w-5 border-b-2 border-current mr-3\" }),\n          \"Connecting...\"\n        ] }) : /* @__PURE__ */ jsxs4(\"div\", { className: \"flex items-center justify-center w-full\", children: [\n          social.icon,\n          /* @__PURE__ */ jsxs4(\"div\", { className: \"flex-1 text-left\", children: [\n            /* @__PURE__ */ jsxs4(\"div\", { className: \"font-medium\", children: [\n              \"Continue with \",\n              social.name\n            ] }),\n            /* @__PURE__ */ jsx4(\"div\", { className: \"text-xs opacity-75\", children: social.description })\n          ] })\n        ] })\n      },\n      social.provider\n    )) }),\n    /* @__PURE__ */ jsx4(\"div\", { className: \"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg\", children: /* @__PURE__ */ jsxs4(\"div\", { className: \"flex items-start\", children: [\n      /* @__PURE__ */ jsx4(\"svg\", { className: \"h-5 w-5 text-blue-500 mt-0.5 mr-2 flex-shrink-0\", fill: \"currentColor\", viewBox: \"0 0 20 20\", children: /* @__PURE__ */ jsx4(\"path\", { fillRule: \"evenodd\", d: \"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\", clipRule: \"evenodd\" }) }),\n      /* @__PURE__ */ jsxs4(\"div\", { children: [\n        /* @__PURE__ */ jsx4(\"p\", { className: \"text-sm text-blue-700 dark:text-blue-300 font-medium\", children: \"Secure Social Authentication\" }),\n        /* @__PURE__ */ jsx4(\"p\", { className: \"text-xs text-blue-600 dark:text-blue-400 mt-1\", children: \"We use industry-standard OAuth 2.0 protocols to securely authenticate with third-party providers. Your credentials are never stored on our servers.\" })\n      ] })\n    ] }) })\n  ] });\n}\nexport {\n  AuthLayout,\n  SignInForm,\n  SignUpForm,\n  SocialAuthButtons\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2321, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/Cred%20Vault/Sunny/packages/auth/dist/index.mjs"],"sourcesContent":["// src/AuthRouter.tsx\nimport { useEffect } from \"react\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport {\n  UserAccountType,\n  ACCOUNT_TYPE_DESTINATIONS\n} from \"@sunny/shared-types\";\nimport { jsx } from \"react/jsx-runtime\";\nvar AuthRouter = class {\n  /**\n   * Determines the correct destination URL based on user account type\n   */\n  static getDestinationUrl(accountType, customRedirect) {\n    if (customRedirect) {\n      const trustedDomains = [\n        \"sunnypayments.com\",\n        \"app.sunnypayments.com\",\n        \"business.sunnypayments.com\",\n        \"institutions.sunnypayments.com\",\n        \"admin.sunnypayments.com\",\n        \"developers.sunnypayments.com\"\n      ];\n      try {\n        const url = new URL(customRedirect);\n        const domain = url.hostname;\n        if (trustedDomains.some((trusted) => domain === trusted || domain.endsWith(`.${trusted}`))) {\n          return customRedirect;\n        }\n      } catch {\n      }\n    }\n    return ACCOUNT_TYPE_DESTINATIONS[accountType];\n  }\n  /**\n   * Constructs the authentication URL with proper parameters\n   */\n  static buildAuthUrl(mode, accountType, redirectUrl, authDomain = \"https://auth.sunnypayments.com\") {\n    const url = new URL(`/${mode}`, authDomain);\n    if (accountType) {\n      url.searchParams.set(\"type\", accountType);\n    }\n    if (redirectUrl) {\n      url.searchParams.set(\"redirect\", redirectUrl);\n    }\n    if (typeof window !== \"undefined\") {\n      const source = window.location.hostname;\n      url.searchParams.set(\"source\", source);\n    }\n    return url.toString();\n  }\n  /**\n   * Handles post-authentication routing\n   */\n  static handleAuthSuccess(user, customRedirect, onSuccess) {\n    const redirectUrl = this.getDestinationUrl(user.accountType, customRedirect);\n    if (onSuccess) {\n      onSuccess(user, redirectUrl);\n    } else {\n      window.location.href = redirectUrl;\n    }\n  }\n  /**\n   * Extracts account type from URL parameters or referrer\n   */\n  static detectAccountType(searchParams) {\n    if (searchParams?.has(\"type\")) {\n      const type = searchParams.get(\"type\");\n      if (Object.values(UserAccountType).includes(type)) {\n        return type;\n      }\n    }\n    if (typeof window !== \"undefined\" && document.referrer) {\n      try {\n        const referrerUrl = new URL(document.referrer);\n        const hostname = referrerUrl.hostname;\n        if (hostname.includes(\"business.\")) return UserAccountType.BUSINESS;\n        if (hostname.includes(\"institutions.\")) return UserAccountType.INSTITUTION;\n        if (hostname.includes(\"developers.\")) return UserAccountType.DEVELOPER;\n        if (hostname.includes(\"admin.\")) return UserAccountType.ADMIN;\n        if (hostname.includes(\"app.\")) return UserAccountType.INDIVIDUAL;\n      } catch {\n      }\n    }\n    return void 0;\n  }\n  /**\n   * Validates if a user can access a specific dashboard\n   */\n  static canUserAccessDashboard(user, requestedType) {\n    if (user.accountType === UserAccountType.ADMIN) {\n      return true;\n    }\n    return user.accountType === requestedType;\n  }\n  /**\n   * Redirects user to sign-in page with appropriate parameters\n   */\n  static redirectToSignIn(accountType, redirectUrl, authDomain = \"https://auth.sunnypayments.com\") {\n    const signInUrl = this.buildAuthUrl(\"signin\", accountType, redirectUrl, authDomain);\n    window.location.href = signInUrl;\n  }\n  /**\n   * Redirects user to sign-up page with appropriate parameters\n   */\n  static redirectToSignUp(accountType, redirectUrl, authDomain = \"https://auth.sunnypayments.com\") {\n    const signUpUrl = this.buildAuthUrl(\"signup\", accountType, redirectUrl, authDomain);\n    window.location.href = signUpUrl;\n  }\n};\nfunction useAuthRouter(options) {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const redirectToSignIn = (accountType, customRedirect) => {\n    const redirectUrl = customRedirect || searchParams?.get(\"redirect\") || void 0;\n    AuthRouter.redirectToSignIn(accountType, redirectUrl);\n  };\n  const redirectToSignUp = (accountType, customRedirect) => {\n    const redirectUrl = customRedirect || searchParams?.get(\"redirect\") || void 0;\n    AuthRouter.redirectToSignUp(accountType, redirectUrl);\n  };\n  const handleAuthSuccess = (user) => {\n    const customRedirect = searchParams?.get(\"redirect\") || void 0;\n    AuthRouter.handleAuthSuccess(user, customRedirect, options?.onAuthSuccess);\n  };\n  const getDetectedAccountType = () => {\n    return AuthRouter.detectAccountType(searchParams);\n  };\n  useEffect(() => {\n    if (options?.user) {\n      const redirectUrl = searchParams?.get(\"redirect\") || void 0;\n      const destination = AuthRouter.getDestinationUrl(options.user.accountType, redirectUrl);\n      if (typeof window !== \"undefined\" && !window.location.href.startsWith(destination)) {\n        window.location.href = destination;\n      }\n    }\n  }, [options?.user, searchParams]);\n  return {\n    redirectToSignIn,\n    redirectToSignUp,\n    handleAuthSuccess,\n    getDetectedAccountType,\n    buildAuthUrl: AuthRouter.buildAuthUrl,\n    getDestinationUrl: AuthRouter.getDestinationUrl\n  };\n}\nfunction buildAuthLink(mode, options) {\n  const url = AuthRouter.buildAuthUrl(\n    mode,\n    options?.accountType,\n    options?.redirectUrl,\n    options?.authDomain\n  );\n  return url;\n}\nfunction withAuthProtection(Component, requiredAccountType, fallbackUrl) {\n  return function ProtectedComponent(props) {\n    const { user } = props;\n    const router = useRouter();\n    useEffect(() => {\n      if (!user) {\n        const redirectUrl = typeof window !== \"undefined\" ? window.location.href : void 0;\n        AuthRouter.redirectToSignIn(requiredAccountType, redirectUrl);\n        return;\n      }\n      if (requiredAccountType && !AuthRouter.canUserAccessDashboard(user, requiredAccountType)) {\n        const destination = fallbackUrl || AuthRouter.getDestinationUrl(user.accountType);\n        router.push(destination);\n        return;\n      }\n    }, [user, router]);\n    if (!user || requiredAccountType && !AuthRouter.canUserAccessDashboard(user, requiredAccountType)) {\n      return /* @__PURE__ */ jsx(\"div\", { className: \"min-h-screen flex items-center justify-center\", children: /* @__PURE__ */ jsx(\"div\", { className: \"animate-spin rounded-full h-32 w-32 border-b-2 border-green-600\" }) });\n    }\n    return /* @__PURE__ */ jsx(Component, { ...props });\n  };\n}\nvar AuthRouter_default = AuthRouter;\n\n// src/hooks/useAuth.ts\nimport { useState, useEffect as useEffect2, useCallback } from \"react\";\nvar STORAGE_KEYS = {\n  ACCESS_TOKEN: \"sunny_access_token\",\n  REFRESH_TOKEN: \"sunny_refresh_token\",\n  USER: \"sunny_user\",\n  SESSION: \"sunny_session\"\n};\nvar API_ENDPOINTS = {\n  SIGN_IN: \"/api/auth/signin\",\n  SIGN_UP: \"/api/auth/signup\",\n  SIGN_OUT: \"/api/auth/signout\",\n  REFRESH: \"/api/auth/refresh\",\n  SOCIAL_AUTH: \"/api/auth/social\",\n  RESET_PASSWORD: \"/api/auth/reset-password\",\n  CONFIRM_RESET: \"/api/auth/confirm-reset\",\n  SETUP_MFA: \"/api/auth/mfa/setup\",\n  VERIFY_MFA: \"/api/auth/mfa/verify\",\n  ME: \"/api/auth/me\"\n};\nvar AuthService = class {\n  constructor(baseUrl = process.env.NEXT_PUBLIC_API_URL || \"https://api.sunnypayments.com\") {\n    this.baseUrl = baseUrl;\n  }\n  async makeRequest(endpoint, options = {}) {\n    const url = `${this.baseUrl}${endpoint}`;\n    const token = this.getStoredToken();\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...token && { Authorization: `Bearer ${token}` },\n        ...options.headers\n      },\n      ...options\n    };\n    try {\n      const response = await fetch(url, config);\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(errorData.message || `HTTP ${response.status}: ${response.statusText}`);\n      }\n      return await response.json();\n    } catch (error) {\n      console.error(`API request failed for ${endpoint}:`, error);\n      throw error;\n    }\n  }\n  getStoredToken() {\n    if (typeof window === \"undefined\") return null;\n    return localStorage.getItem(STORAGE_KEYS.ACCESS_TOKEN);\n  }\n  setTokens(accessToken, refreshToken) {\n    if (typeof window === \"undefined\") return;\n    localStorage.setItem(STORAGE_KEYS.ACCESS_TOKEN, accessToken);\n    if (refreshToken) {\n      localStorage.setItem(STORAGE_KEYS.REFRESH_TOKEN, refreshToken);\n    }\n  }\n  clearTokens() {\n    if (typeof window === \"undefined\") return;\n    localStorage.removeItem(STORAGE_KEYS.ACCESS_TOKEN);\n    localStorage.removeItem(STORAGE_KEYS.REFRESH_TOKEN);\n    localStorage.removeItem(STORAGE_KEYS.USER);\n    localStorage.removeItem(STORAGE_KEYS.SESSION);\n  }\n  async signIn(data) {\n    const response = await this.makeRequest(API_ENDPOINTS.SIGN_IN, {\n      method: \"POST\",\n      body: JSON.stringify(data)\n    });\n    if (response.success && response.session) {\n      this.setTokens(response.session.accessToken, response.session.refreshToken);\n      this.storeUserSession(response.user, response.session);\n    }\n    return response;\n  }\n  async signUp(data) {\n    const response = await this.makeRequest(API_ENDPOINTS.SIGN_UP, {\n      method: \"POST\",\n      body: JSON.stringify(data)\n    });\n    if (response.success && response.session) {\n      this.setTokens(response.session.accessToken, response.session.refreshToken);\n      this.storeUserSession(response.user, response.session);\n    }\n    return response;\n  }\n  async signOut() {\n    try {\n      await this.makeRequest(API_ENDPOINTS.SIGN_OUT, {\n        method: \"POST\"\n      });\n    } catch (error) {\n      console.error(\"Sign out request failed:\", error);\n    } finally {\n      this.clearTokens();\n    }\n  }\n  async socialAuth(data) {\n    const response = await this.makeRequest(API_ENDPOINTS.SOCIAL_AUTH, {\n      method: \"POST\",\n      body: JSON.stringify(data)\n    });\n    if (response.success && response.session) {\n      this.setTokens(response.session.accessToken, response.session.refreshToken);\n      this.storeUserSession(response.user, response.session);\n    }\n    return response;\n  }\n  async resetPassword(data) {\n    return await this.makeRequest(API_ENDPOINTS.RESET_PASSWORD, {\n      method: \"POST\",\n      body: JSON.stringify(data)\n    });\n  }\n  async confirmPasswordReset(data) {\n    return await this.makeRequest(API_ENDPOINTS.CONFIRM_RESET, {\n      method: \"POST\",\n      body: JSON.stringify(data)\n    });\n  }\n  async setupMFA(data) {\n    return await this.makeRequest(API_ENDPOINTS.SETUP_MFA, {\n      method: \"POST\",\n      body: JSON.stringify(data)\n    });\n  }\n  async verifyMFA(code, method) {\n    return await this.makeRequest(API_ENDPOINTS.VERIFY_MFA, {\n      method: \"POST\",\n      body: JSON.stringify({ code, method })\n    });\n  }\n  async refreshSession() {\n    const refreshToken = typeof window !== \"undefined\" ? localStorage.getItem(STORAGE_KEYS.REFRESH_TOKEN) : null;\n    if (!refreshToken) {\n      throw new Error(\"No refresh token available\");\n    }\n    const response = await this.makeRequest(API_ENDPOINTS.REFRESH, {\n      method: \"POST\",\n      body: JSON.stringify({ refreshToken })\n    });\n    if (response.success && response.session) {\n      this.setTokens(response.session.accessToken, response.session.refreshToken);\n      this.storeUserSession(response.user, response.session);\n    }\n    return response;\n  }\n  async getCurrentUser() {\n    try {\n      const response = await this.makeRequest(API_ENDPOINTS.ME);\n      return response.user;\n    } catch (error) {\n      console.error(\"Failed to get current user:\", error);\n      return null;\n    }\n  }\n  storeUserSession(user, session) {\n    if (typeof window === \"undefined\") return;\n    localStorage.setItem(STORAGE_KEYS.USER, JSON.stringify(user));\n    localStorage.setItem(STORAGE_KEYS.SESSION, JSON.stringify(session));\n  }\n  getStoredUser() {\n    if (typeof window === \"undefined\") return null;\n    try {\n      const stored = localStorage.getItem(STORAGE_KEYS.USER);\n      return stored ? JSON.parse(stored) : null;\n    } catch {\n      return null;\n    }\n  }\n  getStoredSession() {\n    if (typeof window === \"undefined\") return null;\n    try {\n      const stored = localStorage.getItem(STORAGE_KEYS.SESSION);\n      return stored ? JSON.parse(stored) : null;\n    } catch {\n      return null;\n    }\n  }\n};\nvar authService = new AuthService();\nfunction useAuth() {\n  const [state, setState] = useState({\n    user: null,\n    session: null,\n    isLoading: true,\n    isAuthenticated: false\n  });\n  useEffect2(() => {\n    const initializeAuth = async () => {\n      try {\n        const storedUser = authService.getStoredUser();\n        const storedSession = authService.getStoredSession();\n        if (storedUser && storedSession) {\n          const now = /* @__PURE__ */ new Date();\n          const expiresAt = new Date(storedSession.expiresAt);\n          if (expiresAt > now) {\n            setState({\n              user: storedUser,\n              session: storedSession,\n              isLoading: false,\n              isAuthenticated: true\n            });\n            return;\n          } else {\n            try {\n              const response = await authService.refreshSession();\n              if (response.success && response.user && response.session) {\n                setState({\n                  user: response.user,\n                  session: response.session,\n                  isLoading: false,\n                  isAuthenticated: true\n                });\n                return;\n              }\n            } catch (error) {\n              console.error(\"Session refresh failed:\", error);\n            }\n          }\n        }\n        setState({\n          user: null,\n          session: null,\n          isLoading: false,\n          isAuthenticated: false\n        });\n      } catch (error) {\n        console.error(\"Auth initialization failed:\", error);\n        setState({\n          user: null,\n          session: null,\n          isLoading: false,\n          isAuthenticated: false\n        });\n      }\n    };\n    initializeAuth();\n  }, []);\n  const signIn = useCallback(async (data) => {\n    setState((prev) => ({ ...prev, isLoading: true }));\n    try {\n      const response = await authService.signIn(data);\n      if (response.success && response.user && response.session) {\n        setState({\n          user: response.user,\n          session: response.session,\n          isLoading: false,\n          isAuthenticated: true\n        });\n      } else {\n        setState((prev) => ({ ...prev, isLoading: false }));\n      }\n      return response;\n    } catch (error) {\n      setState((prev) => ({ ...prev, isLoading: false }));\n      throw error;\n    }\n  }, []);\n  const signUp = useCallback(async (data) => {\n    setState((prev) => ({ ...prev, isLoading: true }));\n    try {\n      const response = await authService.signUp(data);\n      if (response.success && response.user && response.session) {\n        setState({\n          user: response.user,\n          session: response.session,\n          isLoading: false,\n          isAuthenticated: true\n        });\n      } else {\n        setState((prev) => ({ ...prev, isLoading: false }));\n      }\n      return response;\n    } catch (error) {\n      setState((prev) => ({ ...prev, isLoading: false }));\n      throw error;\n    }\n  }, []);\n  const signOut = useCallback(async () => {\n    setState((prev) => ({ ...prev, isLoading: true }));\n    try {\n      await authService.signOut();\n    } finally {\n      setState({\n        user: null,\n        session: null,\n        isLoading: false,\n        isAuthenticated: false\n      });\n    }\n  }, []);\n  const socialAuth = useCallback(async (data) => {\n    setState((prev) => ({ ...prev, isLoading: true }));\n    try {\n      const response = await authService.socialAuth(data);\n      if (response.success && response.user && response.session) {\n        setState({\n          user: response.user,\n          session: response.session,\n          isLoading: false,\n          isAuthenticated: true\n        });\n      } else {\n        setState((prev) => ({ ...prev, isLoading: false }));\n      }\n      return response;\n    } catch (error) {\n      setState((prev) => ({ ...prev, isLoading: false }));\n      throw error;\n    }\n  }, []);\n  const resetPassword = useCallback(async (data) => {\n    return await authService.resetPassword(data);\n  }, []);\n  const confirmPasswordReset = useCallback(async (data) => {\n    return await authService.confirmPasswordReset(data);\n  }, []);\n  const setupMFA = useCallback(async (data) => {\n    return await authService.setupMFA(data);\n  }, []);\n  const verifyMFA = useCallback(async (code, method) => {\n    return await authService.verifyMFA(code, method);\n  }, []);\n  const refreshSession = useCallback(async () => {\n    try {\n      const response = await authService.refreshSession();\n      if (response.success && response.user && response.session) {\n        setState({\n          user: response.user,\n          session: response.session,\n          isLoading: false,\n          isAuthenticated: true\n        });\n      }\n      return response;\n    } catch (error) {\n      await signOut();\n      throw error;\n    }\n  }, [signOut]);\n  return {\n    user: state.user,\n    session: state.session,\n    isLoading: state.isLoading,\n    isAuthenticated: state.isAuthenticated,\n    signIn,\n    signUp,\n    signOut,\n    socialAuth,\n    resetPassword,\n    confirmPasswordReset,\n    setupMFA,\n    verifyMFA,\n    refreshSession\n  };\n}\n\n// src/index.ts\nexport * from \"@sunny/shared-types\";\nexport {\n  AuthRouter_default as AuthRouter,\n  buildAuthLink,\n  useAuth,\n  useAuthRouter,\n  withAuthProtection\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2989, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/Cred%20Vault/Sunny/apps/marketing/src/app/sign-in/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { Suspense } from 'react';\r\nimport { useSearchParams } from 'next/navigation';\r\nimport { AuthLayout, SignInForm } from '@sunny/ui';\r\nimport { useAuthRouter, useAuth } from '@sunny/auth';\r\nimport { UserAccountType, type SignInRequest } from '@sunny/shared-types';\r\n\r\nfunction SignInPageContent() {\r\n  const searchParams = useSearchParams();\r\n  const { handleAuthSuccess } = useAuthRouter();\r\n  const { signIn } = useAuth();\r\n\r\n  const redirectUrl = searchParams?.get('redirect') || undefined;\r\n  const accountType = searchParams?.get('type') as UserAccountType || undefined;\r\n\r\n  const handleSignIn = async (data: SignInRequest) => {\r\n    const response = await signIn(data);\r\n    \r\n    if (response.success && response.user) {\r\n      handleAuthSuccess(response.user, redirectUrl);\r\n    }\r\n    \r\n    return response;\r\n  };\r\n\r\n  return (\r\n    <AuthLayout\r\n      title=\"Welcome Back\"\r\n      subtitle=\"Sign in to your Sunny Payments account\"\r\n      showSocialAuth={true}\r\n      socialAuthUserType={accountType}\r\n    >\r\n      <SignInForm\r\n        onSubmit={handleSignIn}\r\n        defaultAccountType={accountType}\r\n        redirectUrl={redirectUrl}\r\n      />\r\n    </AuthLayout>\r\n  );\r\n}\r\n\r\nexport default function SignInPage() {\r\n  return (\r\n    <Suspense fallback={\r\n      <div className=\"min-h-screen bg-gradient-to-br from-green-50 via-white to-emerald-50 dark:from-gray-900 dark:via-gray-900 dark:to-green-900/20 flex items-center justify-center\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600\"></div>\r\n      </div>\r\n    }>\r\n      <SignInPageContent />\r\n    </Suspense>\r\n  );\r\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAQA,SAAS;;IACP,MAAM,eAAe,CAAA,GAAA,oQAAA,CAAA,kBAAe,AAAD;IACnC,MAAM,EAAE,iBAAiB,EAAE,GAAG,CAAA,GAAA,qJAAA,CAAA,gBAAa,AAAD;IAC1C,MAAM,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,qJAAA,CAAA,UAAO,AAAD;IAEzB,MAAM,cAAc,CAAA,yBAAA,mCAAA,aAAc,GAAG,CAAC,gBAAe;IACrD,MAAM,cAAc,CAAA,yBAAA,mCAAA,aAAc,GAAG,CAAC,YAA8B;IAEpE,MAAM,eAAe,OAAO;QAC1B,MAAM,WAAW,MAAM,OAAO;QAE9B,IAAI,SAAS,OAAO,IAAI,SAAS,IAAI,EAAE;YACrC,kBAAkB,SAAS,IAAI,EAAE;QACnC;QAEA,OAAO;IACT;IAEA,qBACE,4TAAC,mIAAA,CAAA,aAAU;QACT,OAAM;QACN,UAAS;QACT,gBAAgB;QAChB,oBAAoB;kBAEpB,cAAA,4TAAC,mIAAA,CAAA,aAAU;YACT,UAAU;YACV,oBAAoB;YACpB,aAAa;;;;;;;;;;;AAIrB;GAhCS;;QACc,oQAAA,CAAA,kBAAe;QACN,qJAAA,CAAA,gBAAa;QACxB,qJAAA,CAAA,UAAO;;;KAHnB;AAkCM,SAAS;IACtB,qBACE,4TAAC,4RAAA,CAAA,WAAQ;QAAC,wBACR,4TAAC;YAAI,WAAU;sBACb,cAAA,4TAAC;gBAAI,WAAU;;;;;;;;;;;kBAGjB,cAAA,4TAAC;;;;;;;;;;AAGP;MAVwB","debugId":null}}]
}